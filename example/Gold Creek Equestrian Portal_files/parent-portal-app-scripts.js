!function(){"use strict";angular.module("parent-portal",["parent-portal.core","api-tools"]).constant("parentPortalConfig",{uid:ICP_UID,familyId:ICP_FAMILY_UID,accountName:ICP_ACCTNAME,familyName:ICP_FAMILY_NAME,loginName:ICP_LOGIN_NAME,baseUrl:ICP_BASE_URL,colorTheme:ICP_COLOR_THEME,showStudentImages:ICP_SHOW_STUDENT_IMAGES,showOnlyEvaluatedSkills:ICP_SHOW_ONLY_EVALUATED_SKILLS,angularDateFormat:ICP_ANGULAR_DATE_FORMAT,angularDateFormatExtended:"EEE, "+ICP_ANGULAR_DATE_FORMAT})}(),function(){"use strict";angular.module("parent-portal.core",["ngAnimate","ngAria","ngMessages","ngSanitize","ngTouch","ui.router","ui.bootstrap","ngSentry","angularUtils.directives.dirPagination"])}(),function(){"use strict";function e(t,e,a,n){a.onStart({from:function(e){return"studentEvaluations"==e.name}},function(e){n.setPreviousState({name:e.router.globals.current.name,params:angular.copy(e.router.globals.params)})}),e.loadPreviousState=function(){var e=n.getPreviousState();t.go(e.name,e.params)}}e.$inject=["$state","$rootScope","$transitions","stateHistoryService"],angular.module("parent-portal").run(e)}(),function(){"use strict";function e(a,e,t,n){var s=this;s.$onInit=function(){s.submitted=!1,s.step=1,s.email=null,s.human=!s.useCaptcha,s.validationCode=null,s.errorMessage="",s.attempts=0},s.submitStepOne=function(){if(s.submitted=!0,angular.element("#feedback").hide(),!s.ageGate||!s.email)return!1;var e={human:s.human,emailAddress:s.email};if(!s.human){var t=angular.element("#g-recaptcha-response").val();if(!t)return alertBox("Please respond to the Recaptcha prompt."),!1;e.gRecaptchaResponse=t}a.post("/parentportal/"+ICP_ACCTNAME+"/api/v1/csrf/newAccountRequest/",e).then(function(e){if(e.isError){var t=e.message;0<e.errors.length&&(t=t+"<p>Errors: "+e.allErrors.toString()+"</p>"),alertBox(t)}else s.human=e.data.human,!0===e.data.valid?(s.step=2,s.submitted=!1):alertBox("<h3>There was a problem using this email address to create a new account.</h3><p>If an account already exists with this email, check your inbox for more information or contact us if you need assistance.</p>")})},s.submitStepTwo=function(){if(s.submitted=!0,s.validationCode){s.attempts+=1;var e="/parentportal/"+ICP_ACCTNAME+"/register/validate";e+="?token="+s.validationCode,e+="&email="+s.email,a.get(e).then(function(e){e.data.valid||5<=s.attempts?t.location.href="/parentportal/"+ICP_ACCTNAME+"/register?token="+s.validationCode+"&email="+s.email:angular.isDefined(e.errors.token[0])?s.errorMessage=e.errors.token[0]:s.errorMessage="An unknown error occurred."})}else s.errorMessage="Please enter a validation code."}}e.$inject=["ppApiService","httpResponseService","$window","$log"],angular.module("parent-portal").component("createAccount",{controller:e,templateUrl:"/parentportal/content/ng-app/register/create-account.html",controllerAs:"vm",bindings:{useCaptcha:"<",captchaSiteKey:"@"}})}(),function(){"use strict";function e(e,t,a,n,s,i,l){var r=this;function o(e,t){l.location.href=r.config.baseUrl+"/evaluations/tree/"+e+"/skill/"+t}function c(){return i(function(a,n){s.getFamilyEvaluationData(r.config.familyId).then(function(e){if(e.isError)r.hasPermission=!1,n();else{r.hasPermission=!0,r.maxRating=e.data.settings.rating,r.labels=e.data.settings.labels,r.students=e.data.students,r.evaluations=e.data.evaluations,"string"==typeof r.maxRating&&(r.maxRating=parseInt(r.maxRating)),r.stars=[];for(var t=1;t<=r.maxRating;t++)r.stars.push({value:t});a()}})})}function d(e){return 1<r.maxRating&&(e+=1),_.range(0,e)}r.$onInit=function(){r.title="studentEvaluations",r.config=a,r.stars=[],r.familyDataLoaded=!1,r.students=[],r.evaluations=[],r.labels=[],r.maxRating=0,r.searchString="",r.searchStudent={},r.page=1,r.limitSize=10,r.limitLength=angular.copy(r.limitSize),r.hasPermission=!1,r.loadFamilyData=c,r.navigateToTree=o,r.getLabelStars=d,c().then(function(){r.familyDataLoaded=!0}).catch(function(){r.familyDataLoaded=!0,r.hasPermission=!1})}}e.$inject=["$state","$stateParams","parentPortalConfig","$rootScope","skillTreeApiService","$q","$window"],angular.module("parent-portal").component("studentEvaluations",{controller:e,templateUrl:"/parentportal/content/ng-app/student/student-evaluations.html",controllerAs:"vm"})}(),function(){"use strict";function e(t,a,e,n,s,i){var l=this;function r(){var t=!0;l.areAllSelected&&(t=!1),_.forEach(l.enrollments,function(e){e.selected=t})}function o(){var e=m().length;return l.enrollments&&(l.areAllSelected=e===l.enrollments.length),e}function c(){l.startDate=moment().toDate(),l.endDate=moment().toDate(),l.multiday=!1,l.startDateAllDay=!0,l.endDateAllDay=!0,l.startTime=moment().startOf("minute").toDate(),l.endTime=moment().startOf("minute").toDate(),l.comment="",l.excused=!1,l.errorMessage=""}function d(){var e=m().length;return e?"Submit "+e+" Absence"+(1===e?"":"s"):"Submit Absences"}function m(){return l.selectedEnrollments=_.filter(l.enrollments,{selected:!0}),l.selectedEnrollments}function p(){n.rawGet("get-app-data/").then(function(e){e.data&&(l.messageData=e.data.errorMessage)}),n.rawGet("get-limit-date/").then(function(e){l.minDate=moment(e.data.minDate).toDate(),l.maxDate=moment(e.data.maxDate).toDate()}),n.rawGet("expected-absences/"+l.config.familyId).then(function(e){e.isError?(l.dataLoaded=!0,l.hasPermission=!1):(l.students=e.data.students,l.dataLoaded=!0,l.hasPermission=!0,c(),h())})}function g(e,t){l.errorMessage="",l.student=e,l.creatingExpectedAbsence=!0,"enrollment"===(l.createMode=t)&&v(),h()}function v(){l.enrollmentsLoaded=!1,l.enrollmentDate||(l.enrollmentDate=moment().toDate());var e=moment(l.enrollmentDate).format("YYYY-MM-DD");n.rawGet("student-schedule/"+l.student.id+"/"+e).then(function(e){e.isError?(l.errorMessage=e.message,l.enrollmentsLoaded=!0):l.enrollments=e.data})}function u(e,t){confirm("Are you sure you want to delete this future absence?")&&n.destroy("student/"+e+"/absences",t).then(function(e){e.isError||(p(),l.messageSuccess=!0,l.message="Future absence cancelled successfully.")})}function h(){i(function(){angular.element('[rel="tooltip"]').tooltip({trigger:"hover",placement:"top"}),l.datepickerFallback=!0,angular.element("#startDate").datepicker({minDate:l.minDate,maxDate:l.maxDate,dateFormat:l.icpDatePickerFormat,onSelect:function(e){l.startDate=moment(e,l.momentDateFormat).toDate()}}),angular.element("#endDate").datepicker({minDate:l.minDate,maxDate:l.maxDate,dateFormat:l.icpDatePickerFormat,onSelect:function(e){l.endDate=moment(e,l.momentDateFormat).toDate()}}),angular.element("#enrollmentDate").datepicker({minDate:l.minDate,maxDate:l.maxDate,dateFormat:l.icpDatePickerFormat,onSelect:function(e){l.enrollmentDate=moment(e,l.momentDateFormat).toDate(),v()}})},1e3)}function f(){t.location.href=l.config.baseUrl+"/makeups/"}function b(e){var t={},a=[];e?_.forEach(m(),function(e){t={multiday:!1,startDateAllDay:!1,endDateAllDay:!1,startDate:moment(l.enrollmentDate).format("YYYY-MM-DD"),endDate:moment(l.enrollmentDate).format("YYYY-MM-DD"),startTime:e.startTime,endTime:e.endTime,comment:l.comment,excused:l.excused,enrollmentId:e.enrollmentId},a.push(t)}):(t={multiday:l.multiday,startDateAllDay:l.startDateAllDay,endDateAllDay:l.endDateAllDay,startDate:moment(l.startDate).format("YYYY-MM-DD"),endDate:moment(l.endDate).format("YYYY-MM-DD"),startTime:moment(l.startTime).format("h:mm A"),endTime:moment(l.endTime).format("h:mm A"),comment:l.comment,excused:l.excused},a.push(t)),_.forEach(a,function(e){n.rawPost("student/"+l.student.id+"/absences/",e).then(function(t){t.isError?(t.message=t.message+"<br>",""!==t.errors&&_.forEach(t.errors,function(e){t.message+=e.message+"<br/>"}),l.errorMessage=t.message):(l.creatingExpectedAbsence=!1,l.messageSuccess=!0,l.message="Future absence created.",c(),p())})})}l.$onInit=function(){var e=t.location.href.split("/");l.studentId=_.last(e),l.pageTitle="studentExpectedAbsences.",l.config=s,l.items=[],l.student={},a.log(l.pageTitle),l.angularDateFormat=ICP_ANGULAR_DATE_FORMAT,l.momentDateFormat=ICP_MOMENT_DATE_FORMAT,l.icpDatePickerFormat=ICP_DATEPICKER_DATE_FORMAT,l.update=!1,l.dataLoaded=!1,l.hasPermission=!1,l.creatingExpectedAbsence=!1,l.student={},l.message="",l.errorMessage="",l.areAllSelected=!1,l.messageData="",l.maxDate=0,l.minDate=0,l.countSelected=o,l.selectAll=r,l.saveAbsences=b,l.backToMakeupTokens=f,l.createExpectedAbsence=g,l.cancelExpectedAbsence=u,l.loadEnrollmentData=v,l.getSelectedEnrollments=m,l.getEnrollmentAbsencesSubmitText=d,p(),l.selectedEnrollments={}}}e.$inject=["$window","$log","$filter","resourceApiService","parentPortalConfig","$timeout"],angular.module("parent-portal").component("studentExpectedAbsences",{controller:e,templateUrl:"/parentportal/content/ng-app/student/student-expected-absences.html",controllerAs:"vm"})}(),function(){"use strict";function e(e,t,a,n,s){var i=this;function l(){t.rawGet("makeup-tokens/"+i.config.familyId).then(function(e){e.isError?(i.dataLoaded=!0,i.hasPermission=!1):(i.students=e.data.students,i.currentLocationEmail=e.data.currentLocationEmail,i.dataLoaded=!0,i.hasPermission=!0,s(function(){angular.element('[rel="tooltip"]').tooltip({trigger:"hover",placement:"top"}),i.datepickerFallback=!0,angular.element("#makeupDate").datepicker({dateFormat:ICP_DATEPICKER_DATE_FORMAT,onSelect:function(e){i.date=moment(e,ICP_ANGULAR_DATE_FORMAT.toUpperCase()).toDate(),g()}})},1e3))})}function r(e){n.location.href=i.config.baseUrl+"/makeups/absences/"+e.id}function o(e){if(i.showAgeFilter){var t=_.find(i.students,{id:e.studentId}).age;i.filterAge=0<=t?t<=21?{id:t}:{id:21}:{id:-1}}angular.element(window).scrollTop(0),i.message=!1,i.mode="apply",i.token=e,g()}function c(e){return i.config.baseUrl+"/classes/details/"+e}function d(){return i.token.originalClassName?"Class: "+i.token.originalClassName+" ("+i.token.originalClassDate+")":i.token.allPrograms?"All Programs":"Program(s): "+_.map(_.filter(i.programs,function(e){return _.includes(i.token.programs,e.id)}),function(e){return e.name}).join(", ")}function m(e){i.mode="confirm",i.confirmMessage=!1,i.applyClass=e,i.student=_.find(i.students,{id:i.token.studentId})}function p(){var e=moment(i.date).format("YYYY-MM-DD");t.rawPost("makeup-token-apply",{id:i.token.id,classId:i.applyClass.id,classDate:e}).then(function(e){if(e.isError){var t=e.message;_.forEach(e.errors,function(e){t+="<br/>"+e.message}),i.confirmMessage=t}else i.message=i.settings.autoApprove?"Token Applied Successfully.":"Request Made Successfully.",i.messageSuccess=!0,i.applyClass=!1,i.mode=!1,l()})}function g(){i.classesLoaded=!1,i.date||(i.date=moment().toDate());var e=moment(i.date).format("YYYY-MM-DD");t.rawGet("makeup-token-classes/"+i.token.id+"/"+e).then(function(e){i.classes=e.data,i.classMessage=e.message,i.classesLoaded=!0,i.programIds=[],i.levelIds=[],i.instructorIds=[],_.each(i.classes,function(e){i.programIds.push(e.programId),i.levelIds.push(e.levelId),i.instructorIds=_.concat(i.instructorIds,e.instructorIds)}),i.programIds=_.uniq(i.programIds),i.levelIds=_.uniq(i.levelIds),i.instructorIds=_.uniq(i.instructorIds),i.instructorIds=_.map(i.instructorIds,function(e){return parseInt(e,10)}),function(){var e=_.filter(i.allPrograms,function(e){return-1!==_.indexOf(i.programIds,e.id)}),t=_.filter(i.allLevels,function(e){return-1!==_.indexOf(i.levelIds,e.id)}),a=_.filter(i.allInstructors,function(e){return-1!==_.indexOf(i.instructorIds,e.id)});i.programs=e,i.levels=t,i.instructors=a,i.programs.unshift({id:0,name:i.programs.length?"Select a Program":"All Programs"}),i.levels.unshift({id:0,name:i.levels.length?"Select a Level":"All Levels"}),i.instructors.unshift({id:0,name:i.instructors.length?"Select an Instructor":"All Instructors"})}()})}i.$onInit=function(){i.title="studentMakeupTokens",i.config=e,i.makeupTokens=[],i.settings=[],i.token=!1,i.dataLoaded=!1,i.classesLoaded=!1,i.page=1,i.limitSize=10,i.limitLength=angular.copy(i.limitSize),i.students=[],i.pastTokenButtonText=[],i.hasPermission=!1,i.message=!1,i.messageSuccess=!1,i.mode=!1,i.datepickerFallback=!1,i.createExpectedAbsence=r,i.getClassDetailLink=c,i.applyToken=o,i.confirmToken=m,i.useToken=p,i.loadClassData=g,i.getTokenDescription=d,i.date=moment().toDate(),i.todaysDate=moment().format("YYYY-MM-DD"),i.searchString="",i.filterProgram={id:0},i.filterLevel={id:0},i.filterInstructor={id:0},i.filterAge={id:-1},i.programs=[],i.programIds=[],i.levels=[],i.levelIds=[],i.instructors=[],i.instructorIds=[],i.ages=[],i.showProgramFilter=!1,i.showLevelFilter=!1,i.showInstructorFilter=!1,i.showAgeFilter=!1,i.showExtraFilters=!0,a.log(i.title),l(),t.rawGet("settings/makeup-tokens").then(function(e){e.isError||(i.settings=e.data,i.settings.consumeAcrossPrograms||(i.settings.classFilters.showProgramFilter=!1),i.settings.classFilters.showAgeFilter=!1,i.showProgramFilter=i.settings.classFilters.showProgramFilter,i.showLevelFilter=i.settings.classFilters.showLevelFilter,i.showInstructorFilter=i.settings.classFilters.showInstructorFilter,i.showAgeFilter=i.settings.classFilters.showAgeFilter,i.enabledFilters=_.reduce(i.settings.classFilters,function(e,t){return e+(t?1:0)},0),i.showProgramFilter&&(i.allPrograms=[],t.rawGet("programs").then(function(e){i.allPrograms=e.data,0===i.allPrograms.length&&(i.showProgramFilter=!1,i.enabledFilters-=1)})),i.showLevelFilter&&(i.allLevels=[],t.rawGet("levels").then(function(e){i.allLevels=e.data,0===i.allLevels.length&&(i.showLevelFilter=!1,i.enabledFilters-=1)})),i.showInstructorFilter&&(i.allInstructors=[],t.rawGet("instructors").then(function(e){i.allInstructors=e.data,_.forEach(i.allInstructors,function(e){e.name=e.firstName+" "+e.lastName}),0===i.allInstructors.length&&(i.showInstructorFilter=!1,i.enabledFilters-=1)})),i.showAgeFilter&&function(){i.ages=[],i.ages.push({id:-1,name:"All Ages"});for(var e=0;e<21;e++)i.ages.push({id:e,name:e+" Years"});i.ages.push({id:21,name:"21+ Years"})}())})}}e.$inject=["parentPortalConfig","resourceApiService","$log","$window","$timeout"],angular.module("parent-portal").component("studentMakeupTokens",{controller:e,templateUrl:"/parentportal/content/ng-app/student/student-makeup-tokens.html",controllerAs:"vm"}).filter("filterMakeupClasses",function(){return function(e,t,a,n,s){var i=[];if(e)for(var l=0;l<e.length;l++){var r=e[l];if(t){var o=parseInt(t.id,10);if(o&&o!==r.programId)continue}if(a){var c=parseInt(a.id,10);if(c&&c!==r.levelId)continue}if(n){var d=parseInt(n.id,10);if(d)if(!_.some(r.instructorIds,function(e){return parseInt(e,10)===d}))continue}if(s){var m=parseInt(s.id,10);if(0<=m&&(m<r.minAge&&r.minAge||m>r.maxAge&&r.maxAge))continue}i.push(r)}return i}})}(),function(){"use strict";function e(e,t,a,n){var s=this;function i(e){var t="Redeemed <strong>"+e.createdAt+"</strong> for "+e.className+" <strong>"+moment(e.date).format(ICP_MOMENT_DATE_FORMAT)+"</strong>";return e.instructors.length&&(t+=" ("+e.instructors.join(", ")+")"),t}s.$onInit=function(){s.title="studentPasses",s.config=e,s.students=[],s.dataLoaded=!1,s.hasPermission=!1,s.getPunchDetails=i,a.log(s.title),t.rawGet("punch-card-passes-by-type/family/"+s.config.familyId).then(function(e){e.isError?(s.dataLoaded=!0,s.hasPermission=!1):(s.students=e.data.students,_.forEach(s.students,function(e){_.forEach(e.passes,function(e){if(e.activeDate=e.activeDate?moment(e.activeDate).format(ICP_MOMENT_DATE_FORMAT):"",e.createdAt=e.createdAt?moment(e.createdAt).format(ICP_MOMENT_DATE_FORMAT):"",e.remainingUses=[],!e.unlimitedUses&&e.uses&&e.uses<=100)for(var t=e.uses-e.punches.length,a=1;a<=t;)e.remainingUses.push(a),a+=1})}),s.dataLoaded=!0,s.hasPermission=!0,n(function(){angular.element('[rel="tooltip"]').tooltip({trigger:"hover",placement:"top"})},1e3))})}}e.$inject=["parentPortalConfig","resourceApiService","$log","$timeout"],angular.module("parent-portal").component("studentPasses",{controller:e,templateUrl:"/parentportal/content/ng-app/student/student-passes.html",controllerAs:"vm"})}(),function(){"use strict";function e(t,e,a,n,s){var l=this;function i(){document.body.scrollTop=document.documentElement.scrollTop=0,s(function(){angular.element(document.activeElement).trigger("blur")}),l.warningMessage=!1,l.loading=!0,t.get("/parentportal/"+ICP_ACCTNAME+"/api/v1/student-policies/family-overview").then(function(e){l.students=e.data,function(){var n=!1,s=!1,i=!1;l.remainingRequiredPolicies=0,l.students.length&&angular.forEach(l.students,function(a){a.policies.length&&angular.forEach(a.policies,function(t){t.records.length?angular.forEach(t.records,function(e){(t.id!=e.policyId||e.manual&&e.accepted)&&(n=n||a,s=s||t,i=i||e,l.acceptanceStarted||(l.startingRequiredPolicies+=1),l.remainingRequiredPolicies+=1)}):(n=n||a,s=s||t,i=i||{},l.acceptanceStarted||(l.startingRequiredPolicies+=1),l.remainingRequiredPolicies+=1)})}),l.acceptanceStarted=!0,l.viewType=d,l.viewMessage=m,l.viewStudent=n,l.viewPolicy=s,l.viewRecord=i,l.viewStudent?l.mode="details":l.mode="list"}(),l.loading=!1})}function r(){var e={studentId:l.viewStudent.id,policyId:l.viewPolicy.id};null===l.viewRecord||!l.viewRecord.accepted||l.viewRecord.manual||l.remainingRequiredPolicies?(l.loading=!0,t.post("/parentportal/"+ICP_ACCTNAME+"/api/v1/student-policies/accept",e).then(function(e){i()})):l.warningMessage="You have already accepted this policy."}function o(){var e={studentId:l.viewStudent.id,policyId:l.viewPolicy.id};null===l.viewRecord||l.viewRecord.accepted||l.viewRecord.manual||l.remainingRequiredPolicies?(l.loading=!0,t.post("/parentportal/"+ICP_ACCTNAME+"/api/v1/student-policies/reject",e).then(function(e){i()})):l.warningMessage="You have already rejected this policy."}function c(e,a){var n=!1,s=!1,i=!1;l.warningMessage=!1,l.students.length&&angular.forEach(l.students,function(t){t.id==e&&t.policies.length&&angular.forEach(t.policies,function(e){e.id==a&&(n=t,(s=e).records.length&&(i=e.records[0]))})}),l.mode="details",l.viewStudent=n,l.viewPolicy=s,l.viewRecord=i}function d(){return l.viewRecord.createdAt?l.viewRecord.policyId==l.viewPolicy.currentPolicyId?"View":"Updated":"New"}function m(){if(l.viewRecord.createdAt){var e="Policy was ";return l.viewRecord.policyId!=l.viewPolicy.currentPolicyId&&(e+="previously "),e+=l.viewRecord.accepted?"accepted":"rejected",e+=" on: ",e+=l.viewRecord.createdAt}return""}l.$onInit=function(){l.config=n,l.students=[],l.viewStudent=!1,l.viewPolicy=!1,l.viewRecord=!1,l.mode="list",l.loading=!0,l.startingRequiredPolicies=0,l.remainingRequiredPolicies=0,l.acceptanceStarted=!1,l.warningMessage=!1,i(),l.accept=r,l.reject=o,l.view=c}}e.$inject=["ppApiService","httpResponseService","$window","parentPortalConfig","$timeout"],angular.module("parent-portal").component("studentPolicies",{controller:e,templateUrl:"/parentportal/content/ng-app/student/student-policies.html",controllerAs:"vm"})}(),function(){"use strict";function e(t,a,e,c,n,s){var r=this;function i(e,t,a,n){var s="";!e&&0!==e||(s=s+"-"+e),(t||0===t||n)&&(n&&!t&&(t=""),s=s+"-"+t),!a&&0!==a||(s=s+"-"+a),!n&&0!==n||(s=s+"-"+n),angular.element("[class^=youtube"+s+"]").each(function(e){angular.element(this)[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),angular.element("[class^=vimeo"+s+"]").each(function(e){var t=angular.element(this),a=angular.element(t).prop("src");angular.element(t).prop("src",""),angular.element(t).prop("src",a)})}function l(){n.location.href=r.config.baseUrl+"/evaluations/"}function o(e){return"youtube"===e.type?s.trustAsResourceUrl("https://www.youtube.com/embed/"+e.url+"?rel=0&enablejsapi=1"):s.trustAsResourceUrl("https://player.vimeo.com/video/"+e.url)}function d(e){var t=[];if(e)for(var a=r.maxRating;0<a;a--)t.push({value:a});else for(var n=1;n<=r.maxRating;n++)t.push({value:n});return t}function m(e){return 1<r.maxRating&&(e+=1),_.range(0,e)}function p(t){var a=_.find(r.skills,{id:t});a.mediaLoaded||e.getSkillMedia(t).then(function(e){e.isError||(a.media=e.data,a.mediaLoaded=!0,_.forEach(r.disciplines,function(e){_.forEach(e.levels,function(e){_.forEach(e.events,function(e){_.forEach(e.skills,function(e){e.id===t&&(e.media=a.media,e.mediaLoaded=a.mediaLoaded)})})})}))})}function g(){return c(function(t,a){e.getStudentEvaluationData(r.studentId,r.config.showOnlyEvaluatedSkills?1:0,1).then(function(e){e.isError?(r.hasPermission=!1,a()):(r.hasPermission=!0,r.maxRating=e.data.settings.rating,r.labels=e.data.settings.labels,r.enableComments=e.data.settings.enableComments,r.skills=e.data.skills,r.student=e.data.student,r.student.image=r.student.imageUrl?r.student.imageUrl:"",r.completedLevels=e.data.completedLevels,r.completedEvents=e.data.completedEvents,r.evaluations=e.data.evaluations,r.disciplines=e.data.disciplines,"string"==typeof r.maxRating&&(r.maxRating=parseInt(r.maxRating)),_.forEach(r.skills,function(e){e.media=[]}),function(a,l){return c(function(e,t){_.forEach(a,function(i){_.forEach(i.levels,function(s){_.forEach(s.events,function(e){for(var t in e.skills)if("number"==typeof e.skills[t]){var a=_.find(l,{id:e.skills[t]});if(a){var n={id:a.id,eventId:e.id,name:a.name,description:a.description,mediaLoaded:a.mediaLoaded,media:a.media,skill:!0,type:"Skill",selected:a.id===r.skillId};e.skills[t]=n,r.skillId&&a.id===r.skillId&&(i.isActive=!0,s.isActive=!0,e.isActive=!0)}}e.skills=_.sortBy(e.skills,["order"])})})}),e()})}(r.disciplines,r.skills).then(function(){(function(a,n,s){return c(function(e,t){_.forEach(a,function(e){_.forEach(e.levels,function(e){var t=_.find(n,{levelId:e.id});t?(e.completed=1,e.completedId=t.id,e.completedBy=t.staffName,e.completedDate=t.createdAt):(e.completed=0,e.completedId="",e.completedBy="",e.completedDate=""),_.forEach(e.events,function(e){var t=_.find(s,{eventId:e.id});t?(e.completed=1,e.completedId=t.id,e.completedBy=t.staffName,e.completedDate=t.createdAt):(e.completed=0,e.completedId="",e.completedBy="",e.completedDate="")})})}),e()})})(r.disciplines,r.completedLevels,r.completedEvents).then(function(){(function(a,n,s,i,l,r,o){return c(function(e,t){_.forEach(a,function(t){t.maxStars=0,t.totalStars=0,_.forEach(t.levels,function(e){e.maxStars=0,e.totalStars=0,_.forEach(e.events,function(a){a.maxStars=0,a.totalStars=0,_.forEach(a.skills,function(e){if(!i||i===e.id){e.comment="",e.currentRating=0,e.displayRating=0,e.modified=!1,e.stars=angular.copy(n);var t=_.filter(s,{skillId:e.id});_.orderBy(t,["id"],["desc"]),0<(e.evaluations=t).length?(l?(e.modified=!0,e.currentRating=t[0].rating):(e.modified=!1,e.currentRating=0),e.initialRating=t[0].rating,e.rating=t[0].rating,e.createdAt=t[0].createdAt):(e.initialRating=r||0,e.rating=e.initialRating,e.createdAt=o||"")}a.massSelected=_.every(a.skills,{modified:!0}),a.maxStars+=n.length,void 0!==e.rating&&(a.totalStars+=e.rating)}),e.maxStars+=a.maxStars,e.totalStars+=a.totalStars}),t.maxStars+=e.maxStars,t.totalStars+=e.totalStars})}),e()})})(r.disciplines,d(!0),r.evaluations,!1).then(function(){t()})})}),t())})})}r.$onInit=function(){r.title="studentSkillTree",r.config=a;var e=n.location.href.split("/");_.includes(e,"skill")?(r.studentId=e[e.length-3],r.skillId=_.last(e)):(r.studentId=_.last(e),r.skillId=!1),r.stars=[],r.studentDataLoaded=!1,r.skills=[],r.student=[],r.evaluations=[],r.labels=[],r.maxRating=0,r.enableComments=!1,r.media={},r.hasPermission=!1,r.loadStudentData=g,r.getStars=d,r.getVideoUrl=o,r.evaluationIndex=l,r.pauseVideos=i,r.getLabelStars=m,r.getSkillMedia=p,t.log(r.title),g().then(function(){r.stars=d(!1),r.studentDataLoaded=!0}).catch(function(){r.hasPermission=!1,r.studentDataLoaded=!0})}}e.$inject=["$log","parentPortalConfig","skillTreeApiService","$q","$window","$sce"],angular.module("parent-portal").component("studentSkillTree",{controller:e,templateUrl:"/parentportal/content/ng-app/student/student-skill-tree.html",controllerAs:"vm"})}(),function(){"use strict";angular.module("parent-portal").filter("titleCase",function(){return function(e){return e&&angular.isString(e)?e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):""}})}(),function(){"use strict";function e(e){e.interceptors.push("httpResponseFactory")}function t(t){return{responseError:function(e){return 401==e.status&&window.location.reload(),t.reject(e)}}}t.$inject=["$q"],e.$inject=["$httpProvider"],angular.module("parent-portal").config(e).factory("httpResponseFactory",t)}(),function(){"use strict";function e(i,l){return{handle:function(e){e&&e.message&&showNotice(e.message,"info");return e&&e.data?(e.data.status=e.status,e.data.success=200===e.status,e.data):(l.log("Error: No data found in response"),{isError:!0,message:"No response from server",errors:[]})},error:function(e){var t={},a=[],n=_.has(e,"message")?" ("+e.message+")":"";403===e.status&&-1===e.config.url.indexOf("/api/v1/user/permissions")?(t.notAuthorized=!0,i.$emit("reloadUserPermissions"),l.log("Reloaded permissions because of 403.")):l.log("XHR Failed for request with status: "+e.status+n);e.status<=0&&a.push("The request to the server failed or was aborted.");_.has(e,"data")&&(_.isObjectLike(e.data)&&(t=e.data),angular.isString(e.data)&&(t={isError:!0,message:e.data,errors:[]}));var s=[];_.has(e,"errors")&&e.errors.length?s=e.errors:_.has(t,"errors")&&(s=t.errors);s&&_.forEach(s,function(e,t){_.forEach(e,function(e){a.push({field:t,message:e})})});t.errors=a,t.isError=!0,t.allErrors=_.map(t.errors,"message"),t.message&&0<t.message.length&&(t.allErrors=[t.message].concat(t.allErrors));return t},handleMvc:function(e){if(e.data&&e.data.status){var t=e.data.status;if(t.success||200===e.status)return e.data;for(var a in l.log("Error: "+t.message),e.status.errors)l.log("Error "+(a+1)+": "+t.errors[a])}else{if(e.data)return e.data;l.log("Error: Cannot get data object from response.")}},errorMvc:function(e){if(l.log("XHR Failed for request with status: "+e.status+" ("+e.statusText+")"),angular.isDefined(e.data.message))i.errorMessages=[e.data.message];else{i.errorMessages=["Please try your request again or refresh the page"]}}}}e.$inject=["$rootScope","$log"],angular.module("parent-portal").factory("httpResponseService",e)}(),function(){"use strict";function e(a,n){return{get:function(e){return a.get(e).then(n.handle,n.error)},post:function(e,t){return a.post(e,t).then(n.handle,n.error)},put:function(e,t){return a.put(e,t).then(n.handle,n.error)},remove:function(e){return a.delete(e).then(n.handle,n.error)}}}e.$inject=["$http","httpResponseService"],angular.module("parent-portal").factory("ppApiService",e)}(),function(){"use strict";function e(n,s,e){var i="/parentportal/"+e.accountName+"/api/v1";return{index:function(e){return n.get(l(e)).then(s.handle,s.error)},create:function(e){return n.get(l(e,"create")).then(s.handle,s.error)},store:function(e,t){return n.post(l(e),t).then(s.handle,s.error)},show:function(e,t){return n.get(l(e,t)).then(s.handle,s.error)},edit:function(e,t){return n.get(l(e,t,"/edit")).then(s.handle,s.error)},update:function(e,t,a){return n.put(l(e,t),a).then(s.handle,s.error)},destroy:function(e,t){return n.delete(l(e,t)).then(s.handle,s.error)},rawGet:function(e){return n.get(a(e)).then(s.handle,s.error)},rawPost:function(e,t){return n.post(a(e),t).then(s.handle,s.error)}};function l(e,t,a){var n=i+"/"+e;return t&&(n+="/"+t),a&&(n+="/"+a),n}function a(e){return i+"/"+e}}e.$inject=["$http","httpResponseService","parentPortalConfig"],angular.module("parent-portal").factory("resourceApiService",e)}(),function(){"use strict";function e(s,i,e){var l="/parentportal/"+e.accountName+"/api/v1";return{loadSkillTreeSettings:function(){var e=l+"/settings/skilltree";return s.get(e).then(i.handle).catch(i.error)},getSkillTreeForStudent:function(e){var t=l+"/skill-tree-student/"+e;return s.get(t).then(i.handle).catch(i.error)},getStudentEvaluations:function(e){var t=l+"/skill-tree-evaluations-student/"+e;return s.get(t).then(i.handle).catch(i.error)},getStudentEvaluationData:function(e,t,a){var n=l+"/skill-tree-student-evaluation-data/"+e+"/"+t+"/"+a;return s.get(n).then(i.handle).catch(i.error)},getFamilyEvaluationData:function(e){var t=l+"/skill-tree-family-evaluation-data/"+e;return s.get(t).then(i.handle).catch(i.error)},getSkillMedia:function(e){var t=l+"/skill-tree-skill-media/"+e;return s.get(t).then(i.handle).catch(i.error)}}}e.$inject=["$http","httpResponseService","parentPortalConfig"],angular.module("parent-portal").factory("skillTreeApiService",e)}(),function(){"use strict";angular.module("parent-portal").factory("stateHistoryService",function(){var a=[{name:"studentEvaluations",params:{}}];return{setPreviousState:function(e){a.push(e)},getPreviousState:function(e){if(!e)return a[a.length-1];for(var t=a.length-1;0<=t;--t)if(!angular.equals(e,a[t]))return a[t]}}})}(),function(){var e=angular.module("api-tools",[]);e.config(["paginationTemplateProvider",function(e){e.setPath("/ng-app/api-tools/templates/dir-pagination.html")}]),e.filter("toArray",function(){return function(e){var a=[];return angular.forEach(e,function(e,t){a.push(e)}),a}}),e.filter("customFilter",function(){return function(e,t){if(null==e||void 0===window[t])return[];var a=Array.prototype.slice.call(arguments);return a=a.slice(2),window[t](e,a)}}),e.filter("toArray",function(){return function(e){var t=[];return angular.forEach(e,function(e){t.push(e)}),t}}),e.filter("parseState",function(){return function(e){return 0<e.indexOf("_")?e.substr(0,e.indexOf("_")):""}}),e.filter("parseCountry",function(){return function(e){return 0<e.indexOf("_")?e.substr(e.indexOf("_")+1):""}}),e.directive("apiView",["$http","$q",function(o,c){return{scope:!0,link:function(n,s,t){null==t.id&&jQuery(s).prop("id","api-view-"+Date.now()),n.loaded=!1,n.noData=!1,n.currentPage=1,n.pageSize=t.pageSize?t.pageSize:10,n.showNotice=window.showNotice?window.showNotice:function(){};var e=window.apiToolsErrorHandler?window.apiToolsErrorHandler:function(){},a=t.customErrorHandler;n.errorHandler=a?window[a]:e,n.loadData=function(){var a=c.defer();if(null==t.url)n.items=[],n.noData=!0,n.loaded=!0,a.resolve();else{var e=c.defer();n.cancelLoadData=function(){e.resolve()},o.get(t.url,{timeout:e.promise}).then(function(e){!1===e.data?(n.items=[],404==e.status&&(n.noData=!0)):(n.items=e.data.data,n.noData=!1),n.loaded=!0,a.resolve()}).catch(function(e,t){if(n.items=[],null===e);else switch(e.status=t,e.status){case 401:n.errorHandler(e,s);break;case 403:n.errorHandler(e,s),n.loaded=!0,a.resolve();break;default:n.errorHandler(e,s),n.loaded=!0}})}return a.promise};var i=t.injectJsFunctions;if(i){var l={loadData:n.loadData};if(t.variables)var r=JSON.parse(t.variables);i.split(",").forEach(function(t){t=t.trim(),n[t]=function(){var e=Array.prototype.slice.call(arguments);return window[t](n.items,l,r,e)}})}n.maxPages=function(){return Math.ceil(n.items.length/n.pageSize)},n.pageChangeHandler=function(e){},t.callbackFunction?n.loadData().then(function(){if(t.variables)var e=JSON.parse(t.variables);window[t.callbackFunction](n.items,e)}):n.loadData(),n.orderReverse=!!t.orderReverse&&t.orderReverse,n.orderType=t.orderType?t.orderType:"alpha",n.orderKey=t.orderBy?t.orderBy:"",n.trim=function(e){return e.trim()},n.orderFunction=function(t){if(n.orderKey){var e=n.orderKey.split(",").map(n.trim),a="";switch(e.forEach(function(e){a+=t[e]+" "}),n.orderType){case"numeric":return parseFloat(a);case"date":return new Date(a);case"alpha":case void 0:default:return a.toLowerCase()}}return""}},controller:["$scope",function(a){this.setSort=function(e,t){a.orderReverse=a.orderKey==e&&!a.orderReverse,a.orderKey=e,a.orderType=t},this.loadData=function(){return a.loadData()}}]}}]),e.directive("pagingDirective",function(){return{replace:!0,link:function(e){e.alert=window.alert,e.pageChangeHandler=function(e){}}}}),e.directive("jsOnClick",function(){return{restrict:"A",require:"^apiView",scope:!0,link:function(a,e,t,n,s){if(!window[t.jsOnClick])return!1;a.funcName=window[t.jsOnClick],a.title=t.title,t.variables&&(a.variables=JSON.parse(t.variables)),a.loadData=function(){return n.loadData()},a.action=function(e){var t={loadData:a.loadData};setTimeout(function(){a.funcName(e,t,a.variables,a.items),a.$applyAsync()})},e.on("click",function(e){a.clickActive||(a.action(a.item),null==t.enableDefault&&e.preventDefault()),a.clickActive=!0,setTimeout(function(){a.clickActive=!1},200)})}}}),e.directive("itemButton",function(){return{restrict:"E",require:"^?apiView",scope:!0,transclude:!0,link:function(a,e,t,n,s){a.parentDomId=jQuery(e).closest("api-view").prop("id"),a.funcName=window[t.action],a.icon=void 0===t.icon?"":"action-icon "+t.icon,a.title=t.title,t.variables?(a.variables=JSON.parse(t.variables),null==a.variables.domParentId&&(a.variables.domParentId=a.parentDomId)):a.variables={domParentId:a.parentDomId},s(function(e){a.hasContent=e.length}),a.loadData=function(){return n.loadData()},a.action=function(e){var t={loadData:a.loadData};setTimeout(function(){a.funcName(e,t,a.variables,a.items),a.$applyAsync()})}},template:'<button type="button" title="{{title}}" class="custom-button magicbutton" ng-class="{\'iconized\':icon}" ng-click="action(item)"><img ng-if="icon" ng-class="icon" alt="{{title}}" ng-src="/images/11x11.gif" /><div ng-if="hasContent" ng-transclude></div></button>'}}),e.directive("itemsButton",function(){return{restrict:"E",require:"^apiView",scope:!0,transclude:!0,link:function(a,e,t,n,s){a.parentDomId=jQuery(e).closest("api-view").prop("id"),a.funcName=window[t.action],a.icon=void 0===t.icon?"":t.icon,a.title=t.title,t.variables?(a.variables=JSON.parse(t.variables),a.variables.domParentId=a.parentDomId):a.variables={domParentId:a.parentDomId},s(function(e){a.hasContent=e.length}),a.loadData=function(){return n.loadData()},a.action=function(e){var t={loadData:a.loadData};a.funcName(a.items,t,a.variables)}},template:'<button type="button" title="{{title}}" class="custom-button magicbutton" ng-class="{\'iconized\':icon}" ng-click="action(item)"><img ng-if="icon" ng-class="icon" alt="{{title}}" ng-src="/images/11x11.gif" /><div ng-if="hasContent" ng-transclude></div></button>'}}),e.directive("sortable",function(){return{restrict:"A",require:"^apiView",scope:!0,transclude:!0,link:function(e,t,a,n){e.setSort=function(){n.setSort(a.orderBy,a.orderType)},e.showIcons=function(){return e.orderKey==a.orderBy}},template:'<span ng-transclude ng-click="setSort()"></span><img ng-click="setSort()" ng-show="showIcons()" class="action-icon" ng-class="{\'down-arrow\':orderReverse,\'up-arrow\':!orderReverse}" ng-src="images/11x11.gif" />'}}),e.directive("apiGroupedDropdown",["$q","$http",function(s,i){return{restrict:"E",replace:!0,scope:!0,link:function(t,e,a){if(void 0!==a.url){var n=s.defer();null==t.$root.deferred?t.$root.deferred=n.promise:t.$root.deferred=s.all([t.$root.deferred,n.promise]),i.get(a.url).then(function(e){t.groups=e.data.data,n.resolve("")},function(e){404==e.status&&n.resolve()})}a.selectedKey&&(t.selectedKey=a.selectedKey)},template:'<select><optgroup ng-repeat="(group, items) in groups" label="{{group}}"><option ng-selected="selectedKey == key" ng-repeat="(key, value) in groups[group]" value="{{key}}">{{value}}</option></optgroup></select>'}}]),e.directive("apiDropdown",["$q","$http",function(s,i){return{restrict:"E",replace:!0,scope:!0,link:function(t,e,a){if(void 0!==a.url){var n=s.defer();null==t.$root.deferred?t.$root.deferred=n.promise:t.$root.deferred=s.all([t.$root.deferred,n.promise]),i.get(a.url).then(function(e){t.items=e.data.data,a.placeholder&&(t.items[0]=a.placeholder),n.resolve("")},function(e){404==e.status&&n.resolve()})}a.selectedKey&&(t.selectedKey=a.selectedKey)},template:'<select><option ng-selected="selectedKey == key" ng-repeat="(key, value) in items" value="{{key}}">{{value}}</option></select>'}}]),e.directive("apiDropdownMonths",["$q","$http",function(e,t){return{restrict:"E",replace:!0,scope:!0,link:function(e,t,a){e.items={1:"01 - January",2:"02 - February",3:"03 - March",4:"04 - April",5:"05 - May",6:"06 - June",7:"07 - July",8:"08 - August",9:"09 - September",10:"10 - October",11:"11 - November",12:"12 - December"}},template:'<select><option ng-repeat="(key, value) in items" value="{{key}}">{{value}}</option></select>'}}]),e.directive("apiDropdownYears",["$q","$http",function(e,t){return{restrict:"E",replace:!0,scope:!0,link:function(e,t,a){var n=parseInt(a.years);n=n||10;var s=new Date,l=parseInt(s.getFullYear()),r=l+n;for(e.items=[],i=l;i<r;i++)e.items.push(i)},template:'<select><option ng-repeat="year in items" value="{{year}}">{{year}}</option></select>'}}]),e.filter("toArray",function(){return function(e){var t=[];return angular.forEach(e,function(e){t.push(e)}),t}})}(),function(){var g="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function(c,d,m){return{terminal:!0,multiElement:!0,priority:100,compile:function(e,t){var r=t.dirPaginate,a=r.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),n=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===a[2].match(n))throw"pagination directive: the 'itemsPerPage' filter must be set.";var s=a[2].replace(n,""),o=d(s);!function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}(e);var i=t.paginationId||g;return m.registerInstance(i),function(e,t,a){var n=a.paginationId||g;m.registerInstance(n);var s=function(e,t){var a,n=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);a=t===g||n?e:e.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+t+"'");return a}(r,n);!function(e,t,a){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",a),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",a)}(t,a,s),function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}(t);var i=c(t),l=function(e,t,a){var n;if(t.currentPage)n=d(t.currentPage);else{var s=(a+"__currentPage").replace(/\W/g,"_");e[s]=1,n=d(s)}return n}(e,a,n);m.setCurrentPageParser(n,l,e),void 0!==a.totalItems?(m.setAsyncModeTrue(n),e.$watch(function(){return d(a.totalItems)(e)},function(e){0<=e&&m.setCollectionLength(n,e)})):e.$watchCollection(function(){return o(e)},function(e){if(e){var t=e instanceof Array?e.length:Object.keys(e).length;m.setCollectionLength(n,t)}}),i(e)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(c,a){var d=/^\d+$/;return{restrict:"AE",templateUrl:function(e,t){return t.templateUrl||a.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"@?",autoHide:"=?"},link:function(n,e,t){var a=t.paginationId||g,s=n.paginationId||t.paginationId||g;if(!c.isRegistered(s)&&!c.isRegistered(a)){window.console}n.maxSize||(n.maxSize=9);n.autoHide=void 0===n.autoHide||n.autoHide,n.directionLinks=!angular.isDefined(t.directionLinks)||n.$parent.$eval(t.directionLinks),n.boundaryLinks=!!angular.isDefined(t.boundaryLinks)&&n.$parent.$eval(t.boundaryLinks),n.itemsPerPage=angular.isDefined(t.itemsPerPage)?parseInt(t.itemsPerPage):20,n.onPageChange=angular.isDefined(t.onPageChange)?n.$parent.$eval(t.onPageChange):void 0,n.itemsPerPage||(n.itemsPerPage=10);var i=Math.max(n.maxSize,5);n.pages=[],n.pagination={last:1,current:1,itemsPerPage:n.itemsPerPage},n.boundaryLinks&&(n.pagination.view=[],angular.isDefined(t.viewTest)&&n.$parent.$eval(t.viewTest)&&(n.pagination.view[n.pagination.view.length]={value:2,label:"View 2"}),angular.isDefined(t.view20)&&!n.$parent.$eval(t.view20)||(n.pagination.view[n.pagination.view.length]={value:20,label:"View 20"}),angular.isDefined(t.view50)&&!n.$parent.$eval(t.view50)||(n.pagination.view[n.pagination.view.length]={value:50,label:"View 50"}),angular.isDefined(t.view100)&&n.$parent.$eval(t.view100)&&(n.pagination.view[n.pagination.view.length]={value:100,label:"View 100"}),angular.isDefined(t.viewAll)&&!n.$parent.$eval(t.viewAll)||(n.pagination.view[n.pagination.view.length]={value:"",label:"View All"}));n.range={lower:1,upper:1,total:1},n.$watch(function(){if(c.isRegistered(s))return(c.getCollectionLength(s)+1)*c.getItemsPerPage(s)},function(e){0<e&&function(){if(c.isRegistered(s)){var e=parseInt(c.getCurrentPage(s))||1;n.pages=m(e,c.getCollectionLength(s),c.getItemsPerPage(s),i),n.pagination.current=e,n.pagination.last=n.pages[n.pages.length-1],n.pagination.last<n.pagination.current?n.setCurrent(n.pagination.last):r()}}()}),n.$watch(function(){if(c.isRegistered(s))return c.getItemsPerPage(s)},function(e,t){e!=t&&void 0!==t&&l(n.pagination.current)}),n.$watch(function(){if(c.isRegistered(s))return c.getCurrentPage(s)},function(e,t){e!=t&&l(e)}),n.setCurrent=function(e){c.isRegistered(s)&&o(e)&&(e=parseInt(e,10),c.setCurrentPage(s,e))},n.setItemsPerPage=function(e){c.isRegistered(s)&&(e=parseInt(e,10),c.setItemsPerPage(s,e),n.onPageChange&&n.onPageChange({newPageNumber:c.getCurrentPage(s),oldPageNumber:0,itemsPerPage:e}))},n.getItemsPerPage=function(){if(c.isRegistered(s))return c.getItemsPerPage(s)},angular.isDefined(t.itemsPerPage)&&n.setItemsPerPage(n.itemsPerPage);function l(e){if(c.isRegistered(s)&&o(e)){var t=n.pagination.current;n.pages=m(e,c.getCollectionLength(s),c.getItemsPerPage(s),i),n.pagination.current=e,r(),n.onPageChange&&n.onPageChange({newPageNumber:e,oldPageNumber:t,itemsPerPage:n.getItemsPerPage()})}}function r(){if(c.isRegistered(s)){var e=c.getCurrentPage(s),t=c.getItemsPerPage(s),a=c.getCollectionLength(s);n.range.lower=(e-1)*t+1,n.range.upper=Math.min(e*t,a),n.range.total=a}}function o(e){return d.test(e)&&0<e&&e<=n.pagination.last}n.tracker=function(e,t){return e+"_"+t}}};function m(e,t,a,n){var s,i=[],l=Math.ceil(t/a),r=Math.ceil(n/2);s=e<=r?"start":l-r<e?"end":"middle";for(var o=n<l,c=1;c<=l&&c<=n;){var d=p(c,e,n,l);o&&(2===c&&("middle"===s||"end"===s)||c===n-1&&("middle"===s||"start"===s))?i.push("..."):i.push(d),c++}return i}function p(e,t,a,n){var s=Math.ceil(a/2);return e===a?n:1===e?e:a<n?n-s<t?n-a+e:s<t?t-s+e:e:e}}]).filter("itemsPerPage",["paginationService",function(l){return function(t,e,a){if(void 0===a&&(a=g),!l.isRegistered(a))throw"pagination directive: the itemsPerPage id argument (id: "+a+") does not match a registered pagination-id.";var n,s;if(angular.isObject(t)){if(0<l.getItemsPerPage(a)&&(e=l.getItemsPerPage(a)),e=parseInt(e)||9999999999,n=(s=l.isAsyncMode(a)?0:(l.getCurrentPage(a)-1)*e)+e,l.setItemsPerPage(a,e),t instanceof Array)return t.slice(s,n);var i={};return angular.forEach(function(e){{if(Object.keys)return Object.keys(e);var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t}}(t).slice(s,n),function(e){i[e]=t[e]}),i}return t}}]).service("paginationService",function(){var t,n={};this.registerInstance=function(e){void 0===n[e]&&(n[e]={asyncMode:!1},t=e)},this.isRegistered=function(e){return void 0!==n[e]},this.getLastInstanceId=function(){return t},this.setCurrentPageParser=function(e,t,a){n[e].currentPageParser=t,n[e].context=a},this.setCurrentPage=function(e,t){n[e].currentPageParser.assign(n[e].context,t)},this.getCurrentPage=function(e){var t=n[e].currentPageParser;return t?t(n[e].context):1},this.setItemsPerPage=function(e,t){n[e].itemsPerPage=t},this.getItemsPerPage=function(e){return n[e].itemsPerPage},this.setCollectionLength=function(e,t){n[e].collectionLength=t},this.getCollectionLength=function(e){return n[e].collectionLength},this.setAsyncModeTrue=function(e){n[e].asyncMode=!0},this.isAsyncMode=function(e){return n[e].asyncMode}}).provider("paginationTemplate",function(){var t="angularUtils.directives.dirPagination.template";this.setPath=function(e){t=e},this.$get=function(){return{getPath:function(){return t}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])}(),angular.module("api-tools").run(["$templateCache",function(e){e.put("/ng-app/api-tools/templates/class_attendance_roster.html",'<div><api-view url=\'/api/v1/roster/classes/{{classId}}/{{date}}/{{tsId}}\' inject-js-functions="allPresent,allAbsent,saveAttendance,displaySaveAttendance,displayMissingRequiredPolicyAcceptances,getMissingRequiredPolicyAcceptancesMessage" variables=\'{"type": "class", "date": "{{date}}", "id": "{{classId}}", "tsId": "{{tsId}}", "cancelledBy" : "{{cancelledBy}}", "cancelledMessage" : "{{cancelledMessage}}"}\' callback-function="saveRoster"><div class="collapsible-inner-wrap"><div class="position-relative has-min-height-small" ng-show="!loaded"><div class="center-wrap"><span class="loading-icon" aria-hidden="true"></span> <span class="sr-only">Loading...</span></div></div><div class="status-notice" ng-show="loaded && items.length==0"><div class="row"><div class="col-xs-12"><div class="status-notice-image"> <img ng-src="/images/illustration-no-results.svg" width="186" height="135" alt=""></div><p class="status-notice-text">There are currently <strong>no</strong> students enrolled in this class.</p></div></div></div><div class="list-wrap-student" ng-show="items.length"><div class="list-details" ng-if="cancelledAt || displayMissingRequiredPolicyAcceptances(items)"><div class="notice" ng-if="cancelledAt"><div class="notice-symbol-wrap bg-danger"><span class="icon-cancel"></span></div> <a href class="notice-message-wrap actionable" js-on-click="editCancellation" variables=\'{"classId" : "{{classId}}", "type": "class", "date" : "{{date}}", "tsId" : "{{tsId}}"}\' data-toggle="modal" data-target=".modal.attendance-cancel"><strong>Class canceled for this day <span ng-show="cancelledBy">by {{cancelledBy}}</span></strong> <span class="note" ng-show="cancelledMessage">"{{cancelledMessage}}"</span></a></div><div class="notice" ng-if="displayMissingRequiredPolicyAcceptances(items)"><div class="notice-symbol-wrap bg-danger"><span class="icon-policies fg-white"></span></div><div class="notice-message-wrap"> <strong>Missing Policies</strong> <span class="note">{{getMissingRequiredPolicyAcceptancesMessage(items)}}</span></div></div></div><div class="list-heading" ng-if="canEditAttendance"><div class="student"> <a href ng-show="!cancelledAt" class="text-link" data-toggle="modal" data-target=".modal.attendance-cancel" js-on-click="cancelClass" variables=\'{"classId" : "{{classId}}", "date" : "{{date}}", "tsId" : "{{tsId}}"}\'>Cancel for this day</a> <span class="sr-only">Student</span></div><div class="actions"> <label class="checkbox icon" js-on-click="setAttendanceAll" variables=\'{"present" : 1, "type" : "class", "date" : "{{date}}", "classId" : "{{classId}}", "tsId" : "{{tsId}}"}\'><input type="checkbox" name="roll" value="present" data-toggle="modal" data-backdrop="false" data-target=".modal.main" ng-checked="allPresent()"><span class="icon-check-circle"></span></label> <label class="checkbox icon" js-on-click="setAttendanceAll" variables=\'{"present" : 0, "type" : "class", "date" : "{{date}}", "classId" : "{{classId}}", "tsId" : "{{tsId}}"}\'><input type="checkbox" name="roll" value="absent" data-toggle="modal" data-backdrop="false" data-target=".modal.main" ng-checked="allAbsent()"><span class="icon-x-circle"></span></label></div></div><div class="list-body"><div class="list-row" ng-repeat="item in items track by $index"><div class="list-row-inner-wrap"><div data-heading="student" class="student"><div class="avatar"><div ng-if="item.flags.allowImage"><a href="javascript:void(0)" class="no-focus student-image-upload-{{item.id}}" onclick="openUploadImageModal({\'studentId\' : this.getAttribute(\'data-id\'), \'allowImage\' : this.getAttribute(\'data-item\'), \'imageUrl\' : this.getAttribute(\'data-image\')})" data-id="{{item.id}}" data-item="{{item.flags.allowImage}}" data-image="{{item.student_image}}"><div class="img-circle-medium image-{{item.id}}"><span class="img-placeholder" ng-if="!item.student_image || !item.flags.allowImage"></span> <img ng-if="item.student_image" ng-class="[\'student-photo-\' + {{item.id}}]" id="image-{{item.id}}" ng-src="/api/v1/img/{{item.student_image}}?size=attendance-small"><span ng-show="item.flags.hasMissingRequiredPolicyAcceptance" class="dot bg-danger"></span></div></a></div><div ng-if="!item.flags.allowImage" onclick="disableImageModalPopUp()"><div class="img-circle-medium image-{{item.id}} img-hide-hollow"><span class="img-placeholder" ng-if="!item.student_image || !item.flags.allowImage"></span><span ng-show="item.flags.hasMissingRequiredPolicyAcceptance" class="dot bg-danger"></span></div></div></div><div class="wrap"><div data-target="#detail{{item.id}}-{{classId}}-{{date}}-{{tsId}}" onclick="jQuery(\'.section-attendance.collapse.in\').collapse(\'hide\');" data-toggle="collapse"> <span class="name">{{item.firstName}} {{item.lastName}}</span> <span class="text-additional">{{item.age}} {{item.gender}}</span><ul class="status-icons"><li class="fg-medical" ng-show="item.flags.medical"><span class="icon-indicator-medical"></span></li><li class="fg-policies" ng-show="item.flags.hasMissingRequiredPolicyAcceptance"><span class="icon-policies"></span></li><li class="fg-rollsheet" ng-show="item.flags.rollSheet"><span class="icon-indicator-rollsheet"></span></li><li class="fg-makeup" ng-show="item.flags.makeup"><span class="icon-indicator-makeup"></span></li><li class="fg-drop" ng-show="item.flags.lastWeekDrop"><span class="icon-indicator-warning"></span></li><li class="fg-transfer" ng-show="item.flags.lastWeekTransfer"><span class="icon-indicator-transfer"></span></li><li class="fg-first-day" ng-show="item.flags.firstDay"><span class="icon-indicator-first-day"></span></li><li class="fg-notes" ng-show="item.flags.openNotes"><span class="icon-indicator-list"></span></li><li class="fg-balance" ng-show="!hideOutstandingBalance && item.flags.outstandingCharges"><span class="icon-indicator-balance"></span></li><li class="fg-expected-absence" ng-show="item.flags.absence"><span class="icon-indicator-expected-absence"></span></li><li class="fg-birthday" ng-show="item.flags.birthday"><span class="icon-indicator-bday"></span></li><li class="fg-trial" ng-show="item.flags.trial"><span class="icon-indicator-trial"></span></li><li class="fg-one-day" ng-show="item.flags.oneDay"><span class="icon-indicator-one-day"></span></li></ul></div></div></div><div data-heading="actions" class="actions"><div class="wrap"> <label class="icon" ng-class="{\'checkbox\': canEditAttendance}" js-on-click="{{canEditAttendance ? \'setAttendance\' : false}}" variables=\'{"present" : 1, "type" : "class", "date" : "{{date}}", "classId" : "{{classId}}", "tsId" : "{{tsId}}"}\'><input ng-if="canEditAttendance" type="checkbox" name="present[]" value="{{item.id}}" name="roll" ng-checked="item.present == 1"><span ng-class="\n                                            {   \'icon-check-circle\': item.present == null || item.present == 0,\n                                                \'icon-check-full\': item.present == 1 && !item.tardy == 1 && !item.leftEarly,\n                                                \'icon-tardy-full\': item.present == 1 && item.tardy == 1 && !item.leftEarly,\n                                                \'icon-left-early-full\': item.present == 1 && !item.tardy && item.leftEarly == 1,\n                                                \'icon-tardy-left-early-full\': item.present == 1 && item.tardy == 1 && item.leftEarly == 1 }" class="v-align"></span></label> <label class="icon" ng-class="{\'checkbox\': canEditAttendance}" js-on-click="{{canEditAttendance ? \'setAttendance\' : false}}" variables=\'{"present" : 0, "type" : "class", "date" : "{{date}}", "classId" : "{{classId}}", "tsId" : "{{tsId}}"}\'><input ng-if="canEditAttendance" type="checkbox" name="absent[]" value="{{item.id}}" name="roll" ng-checked="item.present == 0"><span ng-class="\n                                            {   \'icon-x-circle\': item.present == null || item.present == 1,\n                                                \'icon-x-full\': item.present == 0 && !item.excused,\n                                                \'icon-excused-full\' : item.present == 0 && item.excused == 1 }" class="v-align"></span></label></div></div></div><div class="collapsible-body" ng-show="item.present || item.flags.medical || item.flags.hasMissingRequiredPolicyAcceptance || item.flags.rollSheet\n                                                || item.flags.healthConcerns || item.flags.makeup\n                                                || item.flags.lastWeekDrop || item.flags.lastWeekTransfer\n                                                || item.flags.firstDay || item.flags.openNotes\n                                                || (!hideOutstandingBalance && item.flags.outstandingCharges) || item.flags.absence\n                                                || item.flags.birthday || item.flags.trial"><div id="detail{{item.id}}-{{classId}}-{{date}}-{{tsId}}" class="collapse"><div class="info"><div class="presence status-btn" ng-show="canEditAttendance"> <label class="checkbox" js-on-click="toggleTardy" ng-show="item.present == 1" variables=\'{"type": "class", "date" : "{{date}}", "classId" : "{{classId}}", "tsId" : "{{tsId}}"}\'><input type="checkbox" name="tardy" ng-checked="item.tardy" value="tardy"><span class="graphic"></span> <span class="checkmark">Tardy</span></label> <label class="checkbox" js-on-click="toggleLeftEarly" ng-show="item.present == 1" variables=\'{"type": "class", "date" : "{{date}}", "classId" : "{{classId}}", "tsId" : "{{tsId}}"}\'><input type="checkbox" name="leftEarly" ng-checked="item.leftEarly" value="left early"><span class="graphic"></span> <span class="checkmark">Left Early</span></label> <label class="checkbox" js-on-click="toggleExcused" ng-show="item.present == 0" variables=\'{"type": "class", "date" : "{{date}}", "classId" : "{{classId}}", "tsId" : "{{tsId}}"}\'><input type="checkbox" name="excused" ng-checked="item.excused"><span class="graphic" ng-class="{\'bg-danger\': item.excused}"></span> <span class="checkmark">Excused</span></label></div><div class="notice" ng-show="item.flags.hasMissingRequiredPolicyAcceptance"><div class="notice-symbol-wrap bg-danger"><span class="icon-policies fg-white"></span></div><div class="notice-message-wrap"> <span class="note">Missing required student policy acceptance.</span></div></div><div class="status-details"><ul ng-show="item.flags.medical || item.flags.hasMissingRequiredPolicyAcceptance || item.flags.rollSheet\n                                            || item.flags.healthConcerns || item.flags.makeup\n                                            || item.flags.lastWeekDrop || item.flags.lastWeekTransfer\n                                            || item.flags.firstDay || item.flags.openNotes\n                                            || (!hideOutstandingBalance && item.flags.outstandingCharges) || item.flags.absence\n                                            || item.flags.birthday || item.flags.trial"><li ng-show="item.flags.medical"><span class="fg-medical icon-indicator-medical"></span><span ng-bind-html="item.healthConcerns"></span></li><li ng-show="item.flags.rollSheet"><span class="fg-rollsheet icon-indicator-rollsheet"></span></span> {{item.rollSheetComment}}</li><li ng-show="item.flags.makeup"><span class="fg-makeup icon-indicator-makeup"></span> Makeup enrollment</li><li ng-show="item.flags.lastWeekDrop"><span class="fg-drop icon-indicator-warning"></span> Upcoming drop date is {{item.lastDateDrop | date : angularDateFormat}}</li><li ng-show="item.flags.lastWeekTransfer"><span class="fg-transfer icon-indicator-transfer"></span> Upcoming transfer date is {{item.lastDateTransfer | date : angularDateFormat}}</li><li ng-show="item.flags.firstDay"><span class="fg-first-day icon-indicator-first-day"></span> First day of class</li><li ng-show="item.flags.openNotes" js-on-click="getModalNotes" variables=\'{ "type" : "student", "foreignId": {{item.id}}, "student" : "{{item.firstNameClean}} {{item.lastNameClean}}" }\'><span class="fg-notes icon-indicator-list"></span> This student has <b>{{item.openNotes}}</b> open note{{item.openNotes > 1 ? \'s\' : \'\'}}. Click to view.</li><li ng-show="!hideOutstandingBalance && item.flags.outstandingCharges"><span class="balance icon-indicator-balance"></span> Outstanding balance {{item.outstandingCharges}}</li><li ng-show="item.flags.absence"><span class="fg-expected-absence icon-indicator-expected-absence"></span> Expected absence <span ng-show="item.absenceComment.length">:</span> <i>{{item.absenceComment}}</i></li><li ng-show="item.flags.birthday"><span class="fg-birthday icon-indicator-bday"></span> {{item.birthMessage}} {{item.birthDate | date : angularDateFormat}}</li><li ng-show="item.flags.trial"><span class="fg-trial icon-indicator-trial"></span> Trial enrollment</li><li ng-show="item.flags.oneDay"><span class="fg-one-day icon-indicator-one-day"></span> {{item.flags.oneDayLabel}} enrollment</li></ul></div></div></div></div></div></div><div class="list-footer"> <button type="submit" id="save-class-{{classId}}-{{date}}-{{tsId}}" class="btn btn-primary" ng-show="displaySaveAttendance() && hasChanged() && canEditAttendance" ng-model-options="{debounce: {default: 500}}" ng-click="saveAttendance()">Submit</button></div></div></div></api-view></div><div id="image-upload"></div>'),e.put("/ng-app/api-tools/templates/dir-pagination.html",'<div class="pagination-container"><ul class="pagination" ng-if="1 < pages.length"><li ng-if="boundaryLinks" ng-class="{ hidden : pagination.current == 1 }"> <a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ hidden : pagination.current == 1 }" class="ng-scope"> <a href="" ng-click="setCurrent(pagination.current - 1)" class="ng-binding">‹</a></li><li ng-repeat="pageNumber in pages track by $index" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' }"> <a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ hidden : pagination.current == pagination.last }" class="ng-scope"> <a href="" ng-click="setCurrent(pagination.current + 1)" class="ng-binding">›</a></li><li ng-if="boundaryLinks" ng-class="{ hidden : pagination.current == pagination.last }"> <a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul></div>')}]),angular.module("parent-portal.core").run(["$templateCache",function(e){e.put("/parentportal/content/ng-app/register/create-account.html",'<div class="create_box cf"><h2> <span><img ng-src="content/images/icon_img4.png" alt=""></span> <span>Account Creation</span></h2><div class="account-creation" ng-show="vm.step === 1"><form id="createAccount" name="createForm" class="create_form" autocomplete="off" ng-submit="createForm.$valid && vm.submitStepOne()" novalidate><p> To create an account, please review the items below and enter the email address that will be used as your login. An email will be sent to this address in order to continue the account creation process.</p><div class="inputs"><div class="row"><div class="left-half"> <label for="email">Login email address</label> <input type="email" class="form-control" id="email" name="email" ng-model="vm.email" value="" ng-required="required"> <label class="ui-state-error-text" ng-if="createForm.$submitted && (createForm.email.$invalid || createForm.email.$pristine)">A valid email address is required.</label></div><div class="right-half"> <input type="checkbox" id="age-gate" name="ageGate" ng-model="vm.ageGate" class="pull-left" ng-required="required"> <label for="age-gate">I certify that I am at least 18 years old and I consent to the software vendor\'s <a target="_blank" href="https://www.iclasspro.com/notice/privacy-policy">Privacy Policy</a>, and <a target="_blank" href="https://www.iclasspro.com/notice/terms-of-use">Terms of Use</a>.</label> <label class="ui-state-error-text" ng-if="vm.ageGate != true && createForm.$submitted">Please confirm the above statement.</label></div></div><div class="row"><div ng-if="vm.useCaptcha && !vm.human"><script src=\'https://www.google.com/recaptcha/api.js\'><\/script><div class="g-recaptcha" data-sitekey="{{vm.captchaSiteKey}}"></div></div></div><div class="button-container text-right"> <input type="submit" class="btn btn-primary" name="send_email" value="Send Email"></div></div></form></div><div ng-show="vm.step === 2"><div class="account-creation"><form id="validateForm" name="validateForm" class="create_form" autocomplete="off" ng-submit="validateForm.$valid && vm.submitStepTwo()" novalidate><p>An email has been sent to {{vm.email}}. Please enter the code from the email below.</p><div class="inputs"><div class="row"> <input type="text" class="form-control" name="validationCode" id="validationCode" ng-model="vm.validationCode" ng-required="true"> <label class="ui-state-error-text" ng-if="!validateForm.validationCode.$valid && validateForm.$submitted">The validation code is required.</label> <label for="validationCode">Validation Code</label> <label class="ui-state-error-text" ng-if="vm.errorMessage">Your validation code is incorrect or has already expired. Please try again.</label></div></div><div class="button-container text-right"> <input type="submit" class="btn btn-primary" name="validate" value="Validate"></div></form></div></div></div>'),e.put("/parentportal/content/ng-app/student/student-evaluations.html",'\n<div class="section-skills">\n    <div class="container-fluid has-max-width">\n        <div class="row" ng-show="!vm.familyDataLoaded">\n            <div class="col-xs-12">\n                <div class="has-min-height-medium">\n                    <div class="center-wrap">\n                        <span class="loading-icon" aria-hidden="true"></span>\n                        <span class="sr-only">Loading...</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row" ng-show="!vm.hasPermission && vm.familyDataLoaded">\n            <div class="col-xs-12">\n                <div class="has-min-height-medium">\n                    <div class="alert alert-danger">You do not have permission to access this family.</div>\n                </div>\n            </div>\n        </div>\n        <div class="row" ng-show="vm.familyDataLoaded && vm.hasPermission">\n            <div class="col-xs-12">\n                <h1 class="text-weight-normal">Evaluations</h1>\n                <div class="list-wrap-evaluations bordered rounded">\n                    <div class="list-body">\n                        <div class="list-row" ng-repeat="student in vm.students">\n                            <a href="{{vm.config.baseUrl}}/evaluations/tree/{{student.id}}" class="list-row-inner-wrap">\n                                <div data-heading="student" class="student">\n                                    <div class="avatar">\n                                        <div class="img-avatar">\n                                            <img ng-if="student.imageUrl && vm.config.showStudentImages" ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{student.imageUrl}}?size=attendance-small" alt="Thumbnail of {{student.displayName}}">\n                                        </div>\n                                    </div>\n                                    <div class="wrap padding-vertical-small-xs-only">\n                                        <span class="student-name text-weight-normal">{{student.displayName}}</span>\n                                    </div>\n                                </div>\n                                <div class="actions">\n                                    <button type="button" class="btn" ng-if="student.hasEvaluations">View Skill Tree</button>\n                                    <span ng-if="!student.hasEvaluations">No evaluations recorded</span>\n                                </div>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div class="row row-spacing-medium">\n                    <div class="col-xs-12 col-md-4 col-md-push-8 v-align">\n                        <div class="input-styler input-dropdown">\n                            <select class="form-control" ng-model="vm.searchStudent" ng-options="student as student.displayName for student in vm.students" ng-if="vm.students.length">\n                                <option value="">All Students</option>\n                            </select><span class="graphic"></span>\n                        </div>\n                    </div>\n                    <div class="col-xs-12 col-md-6 col-md-pull-4 v-align">\n                        <div class="input-styler input-search">\n                            <input type="text" class="form-control" id="searchString" class="form-control input-underline" ng-model="vm.searchString" ng-minlength="3" ng-model-options="{updateOn: \'default\', debounce: {default:500}}" placeholder="Search"><span class="icon"></span>\n                            <button type="button" class="close" aria-label="Clear input" ng-click="vm.searchString = \'\';"><span aria-hidden="true">&times;</span></button>\n                        </div>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-xs-12">\n                        <h2>Evaluations</h2>\n                        <div ng-show="!filteredEvaluations.length">No evaluations found.</div>\n                        <table ng-show="filteredEvaluations.length" class="table table-stacked-xs-only table-no-highlight table-evaluations">\n                            <thead>\n                            <tr>\n                                <th>Date</th>\n                                <th>Student</th>\n                                <th>Skill Name</th>\n                                <th>Rating</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr ng-repeat="evaluation in filteredEvaluations = (vm.evaluations | filter:{skillName: vm.searchString, studentId: vm.searchStudent.id, studentFirstName: vm.searchStudent.firstName}) | limitTo: vm.limitLength" ng-click="vm.navigateToTree(evaluation.studentId, evaluation.skillId)">\n                                <td>\n                                    <span class="td-title v-align">Date</span>\n                                    <span class="td-content v-align">\n                                        {{ evaluation.createdAt }}\n                                    </span>\n                                </td>\n                                <td>\n                                    <span class="td-title v-align">Student</span>\n                                    <span class="td-content v-align">\n                                        {{ evaluation.studentFirstName }}\n                                    </span>\n                                </td>\n                                <td>\n                                    <span class="td-title v-align">Skill</span>\n                                    <span class="td-content v-align">\n                                        {{ evaluation.skillName }}\n                                    </span>\n                                </td>\n                                <td>\n                                    <span class="td-title v-align">Rating</span>\n                                    <span class="td-content v-align">\n                                        <span class="rating-display star-large">\n                                            <span ng-repeat="star in vm.stars" class="star" ng-class="{ \'active\' : evaluation.rating >= star.value }"></span>\n                                        </span>\n                                    </span>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div class="row" ng-show="filteredEvaluations.length && (vm.limitLength < filteredEvaluations.length)">\n                    <div class="col-xs-12 col-md-4 padding-top-small">\n                        <button type="button" ng-click="vm.limitLength = vm.limitLength + vm.limitSize" class="btn btn-default">Load More</button>\n                    </div>\n                </div>\n            </div>\n            <div class="col-xs-12">\n                <h2>Legend</h2>\n            </div>\n            <div class="row" ng-repeat="label in vm.labels track by $index">\n                <div class="col-xs-12">\n                    <div class="col-xs-6 v-align">\n                        <span class="rating-display star-small">\n                            <span class="rating-number" ng-repeat="star in vm.getLabelStars($index)"><span class="star active"></span></span>\n                            <span ng-if="$index == 0 && vm.maxRating == 1" class="rating-number"><span class="star"></span></span>\n                        </span>\n                    </div>\n                    <div class="col-xs-6 no-padding v-align">\n                        <span class="title">{{vm.labels[$index]}}</span>\n                    </div>\n                </div>\n            </div>\n            <div class="padding-vertical-small" ng-if="vm.config.showOnlyEvaluatedSkills && vm.studentDataLoaded">\n                <em><strong>Note:</strong> Only evaluated skills are shown above</em>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("/parentportal/content/ng-app/student/student-expected-absences.html",'<div class="section-makeups unique-future-absence"><div class="container-fluid has-max-width"><div class="row" ng-if="!vm.dataLoaded"><div class="col-xs-12"><div class="has-min-height-medium"><div class="center-wrap"><span class="loading-icon"></span></div></div></div></div><div class="row" ng-if="!vm.hasPermission && vm.dataLoaded"><div class="col-xs-12"><div class="has-min-height-medium"><div class="alert alert-danger" role="alert">You do not have permission to access this family.</div></div></div></div><ng-container ng-if="vm.dataLoaded && vm.hasPermission"><ng-container ng-if="!vm.creatingExpectedAbsence"><div class="row no-margin-top-xs-up"><div class="col-xs-9 v-align"><h1 class="text-weight-normal margin-bottom-medium-xs-up"> Future Absences</h1></div></div><div ng-if="vm.message"><div id="feedback" class="alert" ng-class="vm.messageSuccess ? \'alert-success\' : \'alert-error\'" role="alert"><p class="no-margin"> {{ vm.message }}</p></div></div><div class="row"><div class="col-xs-2 col-sm-1 v-align"></div><div class="col-xs-6 col-sm-7 v-align"> <strong class="display-inline-block padding-left-small-xs-up">Name</strong></div><div class="col-xs-3 col-sm-3 text-center v-align"> <strong>Future Absences</strong></div></div><div class="collapsible-wrap collapsible-no-trim-top" ng-repeat="student in vm.students"><div class="collapsible"><div class="collapsible-minimal-linear glyphs glyphs-down-up no-padding-top-xs-up no-padding-bottom-xs-up collapsed" role="button" data-target="#tokens-collapse-{{student.id}}" data-toggle="collapse" aria-expanded="false"><div class="row"><div class="col-xs-2 col-sm-1 v-align"><div class="img-circle-medium"> <img class="img-center-crop" ng-if="student.imageUrl && vm.config.showStudentImages" ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{student.imageUrl}}?size=attendance-small" alt="Thumbnail of {{student.displayName}}"></div></div><div class="col-xs-6 col-sm-7 v-align"> <span class="display-inline-block padding-left-small-xs-up">{{student.firstName + \' \' + student.lastName}}</span></div><div class="col-xs-3 col-sm-3 text-center v-align"> <span class="">{{student.expectedAbsences.length}}</span></div></div></div><div class="collapsible-body"><div class="collapse" id="tokens-collapse-{{student.id}}" aria-expanded="false" style="height: 1px;"><div class="collapsible-inner-wrap"><div class="row"><div class="col-sm-11 col-sm-offset-1"><div class="row"><div class="col-xs-6"> <button class="btn btn-default ui-small" ng-click="vm.createExpectedAbsence(student, \'date\')">Create Future Absence By Date</button></div><div class="col-xs-6"> <button class="btn btn-default ui-small" ng-click="vm.createExpectedAbsence(student, \'enrollment\')">Create Future Absence By Enrollment</button></div></div><div class="row"><div class="col-xs-12"><div ng-show="!student.expectedAbsences.length" class="alert alert-info margin-vertical-medium" role="alert">No future absences found.</div><table ng-show="student.expectedAbsences.length" class="table table-stacked-xs-only table-no-highlight"><thead><tr><th>Created By</th><th>Status</th><th>Absence Start</th><th>Absence End</th><th>Comment</th></tr></thead><tbody><tr ng-repeat="expectedAbsence in student.expectedAbsences"><td> <span class="td-title v-align">Created By</span> <span class="td-content v-align">{{expectedAbsence.fromPortal ? \'Parent Portal User\' : \'Staff Member\'}}</span></td><td> <span class="td-title v-align">Status</span> <span class="td-content v-align">{{expectedAbsence.approved ? (expectedAbsence.excused ? \'Excused\' : \'Unexcused\') : \'Pending\'}}</span></td><td> <span class="td-title v-align">Absence Start</span> <span class="td-content v-align">{{expectedAbsence.startDate | date: vm.config.angularDateFormat}} {{expectedAbsence.showStartTime ? (expectedAbsence.startDate | date: \'h:mm a\') : \'\'}}</span></td><td> <span class="td-title v-align">Absence End</span> <span class="td-content v-align">{{expectedAbsence.endDate | date: vm.config.angularDateFormat}} {{expectedAbsence.showEndTime ? (expectedAbsence.endDate | date: \'h:mm a\') : \'\'}}</span></td><td> <span class="td-title v-align">Comment</span> <span class="td-content v-align">{{expectedAbsence.comment}}</span></td></tr></tbody></table></div></div></div></div></div></div></div></div></div></ng-container><ng-container ng-if="vm.creatingExpectedAbsence"><div class="row"><div class="col-xs-10 v-align"><h1 class="text-weight-normal margin-bottom-medium-xs-up"> Create Future Absence</h1></div><div class="col-xs-2 text-right v-align"> <button ng-if="false" type="button" class="btn btn-default btn-icon btn-circle ui-small" data-toggle="modal" data-target="#modal-help" title="Help"><span class="fg-primary icon-question-mark"></span></button></div></div><div class="row" ng-show="vm.errorMessage"><div class="col-xs-12"><div class="alert alert-danger" ng-bind-html="vm.errorMessage" role="alert"></div></div></div><ng-container ng-if="vm.createMode == \'date\'" ng-init="vm.showDate = false;"><div class="row step-span"><div class="col-xs-12"><div class="margin-vertical-large"><div class="row"><div class="col-xs-12 col-sm-5 v-align"> <span class="text-question">Will this absence span multiple days?</span></div><div class="col-xs-12 col-sm-7 v-align"><div class="radio-btn"> <label class="radio no-select" tabindex="0"><input type="radio" name="multiday" value="1" ng-checked="vm.multiday === 1" ng-click="vm.multiday = 1; vm.update = true; vm.showDate = true" tabindex="-1"><span></span> <span>Yes</span></label> <label class="radio no-select" tabindex="0"><input type="radio" name="multiday" value="0" ng-checked="vm.multiday === 0" ng-click="vm.multiday = 0; vm.update = true; vm.showDate = true;" tabindex="-1"><span></span> <span>No</span></label></div></div></div></div></div></div><div class="row step-date" ng-show="vm.showDate" ng-class="{ \'range\' : vm.multiday, \'all-day\' : vm.startDateAllDay, \'visually-hidden\' : !vm.update && (vm.multiday !== 0 && vm.multiday !== 1)} "><div class="col-xs-12"><div class="margin-vertical-large"><div class="row"><div class="col-xs-12 col-sm-5"> <span class="text-question">Select the {{vm.multiday ? \'days\' : \'day\'}} {{vm.student.firstName}} will be absent.</span><div class="alert alert-warning" role="alert" ng-show="vm.messageData != \'\'"><ul class="list-spacing-small"><li ng-show="vm.messageData != \'\'"> {{vm.messageData}}</li></ul></div></div><div class="col-xs-12 col-sm-7 no-padding date-wrap"><div class="row no-margin"><div class="col-xs-12 col-sm-5 date-start"><div class="input-styler input-date"> <input ng-show="!vm.datepickerFallback" type="date" ng-model="vm.startDate" placeholder="Start Date" required="required" min="0001-01-01" max="9999-12-31"> <input ng-show="vm.datepickerFallback" type="text" id="startDate" value="{{vm.startDate | date:vm.angularDateFormat}}" placeholder="Start Date" autocomplete="off"><span class="graphic" aria-hidden="true"></span></div><div class="all-day"><div class="checkbox"> <label class="checkbox"><input type="checkbox" value="1" name="startDateAllDay" id="date-start-all-day" tabindex="0" ng-checked="vm.startDateAllDay" ng-click="vm.startDateAllDay = !vm.startDateAllDay"><span class="graphic"></span> <span class="text">All Day</span></label></div><div class="time-wrap" ng-class="{ \'hidden\' : vm.startDateAllDay }"><div class="input-styler input-time"> <input type="time" ng-model="vm.startTime" placeholder="Time"></input><span class="graphic"></span></div><div class="to text-between">to</div></div></div></div><div class="hidden-xs col-sm-2 thru text-between">thru</div><div class="col-xs-12 col-sm-5 date-end"><div class="input-styler input-date"> <input ng-show="!vm.datepickerFallback" type="date" ng-model="vm.endDate" placeholder="End Date" required="required" min="0001-01-01" max="9999-12-31"> <input ng-show="vm.datepickerFallback" type="text" id="endDate" value="{{vm.endDate | date:vm.angularDateFormat}}" placeholder="End Date" autocomplete="off"><span class="graphic" ng-show="vm.multiday" aria-hidden="true"></span></div><div class="all-day"><div class="checkbox"> <label class="checkbox"><input type="checkbox" value="1" name="endDateAllDay" tabindex="7" ng-checked="vm.endDateAllDay" ng-click="vm.endDateAllDay = !vm.endDateAllDay"><span class="v-align"></span> <span class="text">All Day</span></label><div class="time-wrap" ng-class="{ \'hidden\' : (vm.multiday && vm.endDateAllDay) || (!vm.multiday && vm.startDateAllDay) }"><div class="input-styler input-time"> <input type="time" ng-model="vm.endTime" placeholder="Time"></input><span class="graphic"></span></div></div></div></div></div></div></div></div></div></div></div><div class="row step-comment" ng-show="vm.showDate" ng-class="{ \'visually-hidden\' : !vm.update && (vm.multiday !== 0 && vm.multiday !== 1)}"><div class="col-xs-12"><div class="margin-vertical-large"><div class="row"><div class="col-xs-12 col-sm-5"> <span class="text-question">Leave an optional comment.</span></div><div class="col-xs-12 col-sm-7 date-wrap"> <input type="text" maxlength="255" name="comment" ng-model="vm.comment" class="form-control"></div></div></div></div></div><div class="row" ng-show="vm.multiday === 1 || vm.multiday === 0"><div class="col-xs-6"> <button class="btn btn-default btn-primary" ng-click="vm.saveAbsences(false)">Submit</button></div><div class="col-xs-6"> <button class="btn btn-default" ng-click="vm.creatingExpectedAbsence = false">Cancel</button></div></div></ng-container><ng-container ng-if="vm.createMode == \'enrollment\'"><div class="row row-spacing-medium"><div class="col-xs-12 col-md-6 col-md-push-6 v-align"><div class="input-styler input-search"> <input type="text" class="form-control" id="searchString" class="form-control input-underline" ng-model="vm.searchString" ng-minlength="3" ng-model-options="{updateOn: \'default\', debounce: {default:500}}" placeholder="Search"><span class="icon"></span> <button type="button" class="close" aria-label="Clear input" ng-click="vm.searchString = \'\';"><span aria-hidden="true">&times;</span></button></div></div><div class="col-xs-12 col-md-4 col-md-pull-6 v-align"><div class="input-styler input-date"> <input ng-show="!vm.datepickerFallback" type="date" ng-model="vm.enrollmentDate" ng-change="vm.loadEnrollmentData()" placeholder="Enrollment Date" required="required" min="0001-01-01" max="9999-12-31"> <input ng-show="vm.datepickerFallback" type="text" id="enrollmentDate" value="{{vm.enrollmentDate | date:vm.angularDateFormat}}" placeholder="Enrollment Date" autocomplete="off"><span class="graphic" aria-hidden="true"></span></div></div></div><div ng-show="!vm.enrollments.length && !vm.searchString.length" class="alert alert-warning">No classes or camps found for {{vm.enrollmentDate | date: vm.config.angularDateFormat}}. Please try selecting another date using the calendar control above.</div><div ng-show="!filteredEnrollments.length && !vm.errorMessage && vm.searchString.length" class="alert alert-warning">No enrollments found for \'{{vm.searchString}}\'. Please try another search term.</div><ng-container ng-show="filteredEnrollments.length"><div class="row"><div class="col-xs-12"><div class="alert alert-warning margin-bottom-medium" role="alert" ng-show="vm.messageData != \'\'"><ul class="list-spacing-small"><li ng-show="vm.messageData != \'\'"> {{vm.messageData}}</li></ul></div><div class="checkbox"> <label class="checkbox"><input type="checkbox" name="recipient" id="selectAll" class="checkbox" ng-checked="vm.areAllSelected" ng-click="vm.selectAll()"><span class="graphic"></span> <span class="text">Select All ({{vm.enrollments.length}})<span ng-show="vm.countSelected() > 0 && vm.countSelected() < vm.enrollments.length">| {{vm.countSelected()}} Selected</span></span></label></div><table class="table table-stacked-xs-only table-no-highlight table-evaluations"><thead><tr><th></th><th>Type</th><th>Name</th><th>Start Time</th><th>End Time</th></tr></thead><tbody><tr ng-repeat="enrollment in filteredEnrollments = (vm.enrollments | filter:{name: vm.searchString})"><td> <span class="td-title v-align">Select</span> <span class="td-content v-align"><label class="checkbox"><input type="checkbox" ng-model="enrollment.selected"/><span class="graphic"></span></label></span></td><td> <span class="td-title v-align">Type</span> <span class="td-content v-align">{{ enrollment.type | titleCase }}</span></td><td> <span class="td-title v-align">Name</span> <span class="td-content v-align">{{ enrollment.name }}</span></td><td> <span class="td-title v-align">Start Time</span> <span class="td-content v-align">{{ enrollment.startTime }}</span></td><td> <span class="td-title v-align">End Time</span> <span class="td-content v-align">{{ enrollment.endTime }}</span></td></tr></tbody></table></div></div><div class="row"><div class="col-xs-12"><div class="margin-vertical-large"><div class="row"><div class="col-xs-12 col-sm-5"> <span class="text-question">Leave an optional comment.</span></div><div class="col-xs-12 col-sm-7 date-wrap"> <input type="text" maxlength="255" name="comment" ng-model="vm.comment" class="form-control"></div></div></div></div></div></ng-container><div class="row"><div class="col-xs-6"> <button class="btn btn-default btn-primary" ng-disabled="!vm.getSelectedEnrollments().length" ng-click="vm.saveAbsences(true)">{{vm.getEnrollmentAbsencesSubmitText()}}</button></div><div class="col-xs-6"> <button class="btn btn-default" ng-click="vm.creatingExpectedAbsence = false">Cancel</button></div></div></ng-container></ng-container></div></div>'),e.put("/parentportal/content/ng-app/student/student-makeup-tokens.html",'\n<div class="section-makeups" ng-if="!vm.mode">\n    <div class="container-fluid has-max-width">\n        <div class="row" ng-if="!vm.dataLoaded">\n            <div class="col-xs-12">\n                <div class="has-min-height-medium">\n                    <div class="center-wrap">\n                        <span class="loading-icon" aria-hidden="true"></span>\n                        <span class="sr-only">Loading...</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row" ng-if="!vm.hasPermission && vm.dataLoaded">\n            <div class="col-xs-12">\n                <div class="has-min-height-medium">\n                    <div class="alert alert-danger">You do not have permission to access this family.</div>\n                </div>\n            </div>\n        </div>\n        <ng-container ng-if="vm.dataLoaded && vm.hasPermission">\n            <div class="row no-margin-top-xs-up">\n                <div class="col-xs-9 v-align">\n                    <h1 class="text-weight-normal margin-bottom-medium-xs-up">\n                        Makeups\n                    </h1>\n                </div>\n                <div class="col-xs-3 pull-right text-right v-align">\n                    <a href="{{vm.config.baseUrl + \'/makeups/help\'}}" class="btn btn-default btn-icon btn-circle ui-small help-link" title="Help">\n                        <span class="fg-primary icon-question-mark"></span>\n                    </a>\n                </div>\n            </div>\n            <div ng-if="vm.message">\n                <div class="col-xs-12">\n                    <div id="feedback" class="alert" ng-class="vm.messageSuccess ? \'alert-success\' : \'alert-error\'">\n                        <p class="no-margin">\n                            {{ vm.message }}\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-xs-2 col-sm-1 v-align"></div>\n                <div class="col-xs-6 col-sm-7 v-align">\n                    <strong class="display-inline-block padding-left-small-xs-up">Name</strong>\n                </div>\n                <div class="col-xs-3 col-sm-3 text-center v-align">\n                    <strong>Available Tokens</strong>\n                </div>\n            </div>\n            <div class="collapsible-wrap collapsible-no-trim-top" ng-repeat="student in vm.students">\n                <div class="collapsible">\n                    <div class="collapsible-minimal-linear glyphs glyphs-down-up no-padding-top-xs-up no-padding-bottom-xs-up collapsed" role="button" data-target="#tokens-collapse-{{student.id}}" data-toggle="collapse" aria-expanded="false">\n                        <div class="row">\n                            <div class="col-xs-2 col-sm-1 v-align">\n                                <div class="img-circle-medium">\n                                    <img class="img-center-crop" ng-if="student.imageUrl && vm.config.showStudentImages" ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{student.imageUrl}}?size=attendance-small" alt="Thumbnail of {{student.displayName}}">\n                               </div>\n                                </div>\n                                <div class="col-xs-6 col-sm-7 v-align">\n                                    <span class="display-inline-block padding-left-small-xs-up">{{student.name}}</span>\n                                </div>\n                                <div class="col-xs-3 col-sm-3 text-center v-align">\n                                    <span class="">{{student.availableTokens}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="collapsible-body">\n                            <div class="collapse" id="tokens-collapse-{{student.id}}" aria-expanded="false" style="height: 1px;">\n                                <div class="collapsible-inner-wrap">\n                                    <div class="row">\n                                        <div class="col-sm-11 col-sm-offset-1">\n                                            <div ng-show="!student.availableTokens && !student.missingPolicies" class="alert alert-info">No tokens found.</div>\n                                            <div ng-show="student.missingPolicies" class="alert alert-danger">This student is missing required policies: <a href="{{vm.config.baseUrl + \'/studentpolicies\'}}">Click here to resolve.</a></div>\n                                            <ng-container ng-if="student.tokens[\'availableCurrentLocation\'].length">\n                                                <h2>Tokens Available in this Location</h2>\n                                                <div class="alert alert-warning" ng-show="vm.settings.restrictToActiveStudents && !student.active">Makeup token use is restricted due to no active class enrollments for this student.</div>\n                                                <table class="table table-stacked-xs-only table-no-highlight">\n                                                    <thead>\n                                                        <tr>\n                                                            <th>Issued</th>\n                                                            <th>By</th>\n                                                            <th>Type</th>\n                                                            <th>Expires</th>\n                                                            <th></th>\n                                                        </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                        <tr ng-repeat="token in student.tokens[\'availableCurrentLocation\'] | orderBy:[\'-expires\',\'expireDate\']">\n                                                            <td>\n                                                                <span class="td-title v-align">Issued</span>\n                                                                <span ng-if="(token.issueDate > vm.todaysDate)"><time datetime="{{token.issueDate}}">*{{token.issueDate | date: vm.config.angularDateFormat}}*</time></span>\n                                                                <span ng-if="(token.issueDate <= vm.todaysDate)"><time datetime="{{token.issueDate}}">{{token.issueDate | date: vm.config.angularDateFormat}}</time></span>\n                                                            </td>\n                                                            <td>\n                                                                <span class="td-title v-align">By</span>\n                                                                <span class="td-content v-align">\n                                                           {{token.staffName}}\n                                                           <span ng-if="token.comment.length" class="tooltip-primary icon-comment margin-left-small" rel="tooltip" data-placement="top" data-original-title="&quot;{{token.comment}}&quot;"></span>\n                                                                <span ng-if="token.originalClassName" class="tooltip-primary icon-section-classes margin-left-small" rel="tooltip" data-placement="top" data-html="true" data-original-title="Class: {{token.originalClassName}}<br/>Date: {{token.originalClassDate}}"></span>\n                                                                </span>\n                                                            </td>\n                                                            <td>\n                                                                <span class="td-title v-align">Type</span>\n                                                                <span class="td-content v-align">{{token.type}}</span>\n                                                            </td>\n                                                            <td>\n                                                                <span class="td-title v-align">Expires</span>\n                                                                <span class="td-content v-align">\n                                                            <span ng-show="!token.expires">Never</span>\n                                                                <time ng-show="token.expires" datetime="{{token.expireDate}}">{{token.expireDate | date: vm.config.angularDateFormat}}</time></span>\n                                                            </td>\n                                                            <td>\n                                                                <button class="btn btn-default ui-small" ng-if="vm.settings.allowMakeupRequests && (token.issueDate <= vm.todaysDate)" ng-disabled="vm.settings.restrictToActiveStudents && !student.active" ng-click="vm.applyToken(token)">{{vm.settings.autoApprove ? \'Use Token\' : \'Request\'}}</button>\n                                                                <a class="btn btn-default ui-small" ng-if="!vm.settings.allowMakeupRequests" ng-href="mailto:{{vm.currentLocationEmail}}">Contact Us</a>\n                                                            </td>\n                                                        </tr>\n                                                    </tbody>\n                                                </table>\n                                            </ng-container>\n                                            <ng-container ng-if="student.tokens[\'availableOtherLocations\'].length">\n                                                <h2 class="margin-top-large-xs-up">Tokens Available in Other Location(s)</h2>\n                                                <table class="table table-stacked-xs-only table-no-highlight">\n                                                    <thead>\n                                                        <tr>\n                                                            <th>Issued</th>\n                                                            <th>By</th>\n                                                            <th>Type</th>\n                                                            <th>Expires</th>\n                                                            <th></th>\n                                                        </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                        <tr ng-repeat="token in student.tokens[\'availableOtherLocations\'] | orderBy:[\'-expires\',\'expireDate\']">\n                                                            <td>\n                                                                <span class="td-title v-align">Issued</span>\n                                                                <span ng-if="(token.issueDate > vm.todaysDate)"><time datetime="{{token.issueDate}}">*{{token.issueDate | date: vm.config.angularDateFormat}}*</time></span>\n                                                                <span ng-if="(token.issueDate <= vm.todaysDate)"><time datetime="{{token.issueDate}}">{{token.issueDate | date: vm.config.angularDateFormat}}</time></span> </td>\n                                                            </td>\n                                                            <td>\n                                                                <span class="td-title v-align">By</span>\n                                                                <span class="td-content v-align">\n                                                           {{token.staffName}}\n                                                           <span ng-if="token.comment.length" class="tooltip-primary icon-comment margin-left-small" rel="tooltip" data-placement="top" data-original-title="&quot;{{token.comment}}&quot;"></span>\n                                                                <span ng-if="token.originalClassName" class="tooltip-primary icon-section-classes margin-left-small" rel="tooltip" data-placement="top" data-html="true" data-original-title="Class: {{token.originalClassName}}<br/>Date: {{token.originalClassDate}}"></span>\n                                                                </span>\n                                                            </td>\n                                                            <td>\n                                                                <span class="td-title v-align">Type</span>\n                                                                <span class="td-content v-align">{{token.type}}</span>\n                                                            </td>\n                                                            <td>\n                                                                <span class="td-title v-align">Expires</span>\n                                                                <span class="td-content v-align"><span ng-show="!token.expires">Never</span>\n                                                                <time ng-show="token.expires" datetime="{{token.date}}">{{token.expireDate | date: vm.config.angularDateFormat}}</time></span></span>\n                                                            </td>\n                                                            <td>\n                                                                <a ng-disabled="!vm.currentLocationEmail" ng-if="(token.issueDate <= vm.todaysDate)" class="btn btn-default ui-small" ng-href="mailto:{{vm.currentLocationEmail}}">Contact Us</a>\n                                                                <a ng-if="(token.issueDate > vm.todaysDate)" class="disabled btn btn-default ui-small">Unavailable</a>\n                                                            </td>\n                                                        </tr>\n                                                    </tbody>\n                                                </table>\n                                            </ng-container>\n                                            <div class="margin-top-medium-xs-up" ng-if="student.tokens[\'expended\'].length && student.tokens[\'expired\'].length">\n                                                <div class="collapsible-wrap">\n                                                    <div class="collapsible">\n                                                        <div class="collapsible-minimal-linear" role="button" aria-expanded="false" ng-class="{ \'in\' : vm.showPastTokens[student.id] }" ng-click="vm.showPastTokens[student.id] = !vm.showPastTokens[student.id]">\n                                                            <div class="row">\n                                                                <div class="col-xs-12">\n                                                                    <button type="button" class="btn btn-default">{{vm.showPastTokens[student.id] ? \'Hide Past Tokens\' : \'Show Past Tokens\'}}</button>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div class="collapsible-body">\n                                                            <div class="collapse" id="past-tokens-collapse-{{student.id}}" ng-class="{ \'in\' : vm.showPastTokens[student.id] }">\n                                                                <div class="row">\n                                                                    <div class="col-xs-12">\n                                                                        <ng-container ng-if="student.tokens[\'expended\'].length">\n                                                                            <h2>Expended Tokens</h2>\n                                                                            <table class="table table-stacked-xs-only table-no-highlight">\n                                                                                <thead>\n                                                                                    <tr>\n                                                                                        <th>Issued</th>\n                                                                                        <th>By</th>\n                                                                                        <th>Type</th>\n                                                                                        <th>Used</th>\n                                                                                    </tr>\n                                                                                </thead>\n                                                                                <tbody>\n                                                                                    <tr ng-repeat="token in student.tokens[\'expended\']">\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">Issued</span>\n                                                                                            <span class="td-content v-align"><time datetime="{{token.issueDate}}">{{token.issueDate | date: vm.config.angularDateFormat}}</time></span>\n                                                                                        </td>\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">By</span>\n                                                                                            <span class="td-content v-align">\n                                                                                       {{token.staffName}}\n                                                                                       <span ng-if="token.comment.length" class="tooltip-primary icon-comment margin-left-small" rel="tooltip" data-placement="top" data-original-title="&quot;{{token.comment}}&quot;"></span>\n                                                                                            <span ng-if="token.originalClassName" class="tooltip-primary icon-section-classes margin-left-small" rel="tooltip" data-placement="top" data-html="true" data-original-title="Class: {{token.originalClassName}}<br/>Date: {{token.originalClassDate}}"></span>\n                                                                                            </span>\n                                                                                        </td>\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">Type</span>\n                                                                                            <span class="td-content v-align">{{token.type}}</span>\n                                                                                        </td>\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">Expires</span>\n                                                                                            <span class="td-content v-align"><span ng-show="!token.expires">Never</span>\n                                                                                            <time ng-show="token.expires" datetime="{{token.expireDate}}">{{token.expireDate | date: vm.config.angularDateFormat}}</time></span></span>\n                                                                                        </td>\n                                                                                    </tr>\n                                                                                </tbody>\n                                                                            </table>\n                                                                        </ng-container>\n                                                                        <ng-container ng-if="student.tokens[\'expired\'].length">\n                                                                            <h2>Expired Tokens</h2>\n                                                                            <table class="table table-stacked-xs-only table-no-highlight">\n                                                                                <thead>\n                                                                                    <tr>\n                                                                                        <th>Issued</th>\n                                                                                        <th>By</th>\n                                                                                        <th>Type</th>\n                                                                                        <th>Expired</th>\n                                                                                    </tr>\n                                                                                </thead>\n                                                                                <tbody>\n                                                                                    <tr ng-repeat="token in student.tokens[\'expired\']">\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">Issued</span>\n                                                                                            <span class="td-content v-align"><time datetime="{{token.issueDate}}">{{token.issueDate | date: vm.config.angularDateFormat}}</time></span>\n                                                                                        </td>\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">By</span>\n                                                                                            <span class="td-content v-align">\n                                                                                       {{token.staffName}}\n                                                                                       <span ng-if="token.comment.length" class="tooltip-primary icon-comment margin-left-small" rel="tooltip" data-placement="top" data-original-title="&quot;{{token.comment}}&quot;"></span>\n                                                                                            <span ng-if="token.originalClassName" class="tooltip-primary icon-section-classes margin-left-small" rel="tooltip" data-placement="top" data-html="true" data-original-title="Class: {{token.originalClassName}}<br/>Date: {{token.originalClassDate}}"></span>\n                                                                                            </span>\n                                                                                        </td>\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">Type</span>\n                                                                                            <span class="td-content v-align">{{token.type}}</span>\n                                                                                        </td>\n                                                                                        <td>\n                                                                                            <span class="td-title v-align">Expires</span>\n                                                                                            <span class="td-content v-align"><span ng-show="!token.expires">Never</span>\n                                                                                            <time ng-show="token.expires" datetime="{{token.expireDate}}">{{token.expireDate | date: vm.config.angularDateFormat}}</time></span></span>\n                                                                                        </td>\n                                                                                    </tr>\n                                                                                </tbody>\n                                                                            </table>\n                                                                        </ng-container>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n        </ng-container>\n    </div>\n</div>\n<ng-container ng-show="vm.mode == \'apply\'">\n    <div class="section-any">\n        <div class="container-fluid">\n            <div class="row" ng-if="!vm.dataLoaded">\n                <div class="col-xs-12">\n                    <div class="has-min-height-medium">\n                        <div class="center-wrap">\n                            <span class="loading-icon" aria-hidden="true"></span>\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-xs-12">\n                    <div class="breadcrumb-wrap">\n                        <div class="row margin-top-none-xs-up">\n                            <div class="col-xs-12 col-sm-7">\n                                <ul class="breadcrumb">\n                                    <li>\n                                        <a href="" ng-click="vm.mode = false">\n                                        Makeups\n                                    </a>\n                                    </li>\n                                    <li class="active">\n                                        <h1 class="title">Apply Token</h1>\n                                    </li>\n                                </ul>\n                            </div>\n                            <div class="col-xs-12 col-sm-4 col-sm-offset-1 padding-vertical-small-xs-only">\n                                <button type="button" class="btn btn-default" ng-click="vm.mode = false">Back to Makeups</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row row-spacing-medium">\n                <div class="col-xs-12 col-md-6 col-md-push-6 v-align">\n                    <div class="input-styler input-search">\n                        <input type="text" class="form-control" id="searchString" class="form-control input-underline" ng-model="vm.searchString" ng-minlength="3" ng-model-options="{updateOn: \'default\', debounce: {default:500}}" placeholder="Search"><span class="icon"></span>\n                        <button type="button" class="close" aria-label="Clear input" ng-click="vm.searchString = \'\';"><span aria-hidden="true">&times;</span></button>\n                    </div>\n                </div>\n                <div class="col-xs-12 col-md-4 col-md-pull-6 v-align">\n                    <div class="input-styler input-date">\n                        <input ng-show="!vm.datepickerFallback" type="date" ng-model="vm.date" ng-change="vm.loadClassData()" placeholder="Makeup Date" required="required" min="0001-01-01" max="9999-12-31">\n                        <input ng-show="vm.datepickerFallback" type="text" id="makeupDate" placeholder="Makeup Date" autocomplete="off">\n                    </div>\n                </div>\n            </div>\n            <div class="row row-spacing-medium" ng-if="vm.enabledFilters">\n                <div class="col-xs-12" ng-class="{ \'col-md-12\': vm.enabledFilters == 1, \'col-md-6\': (vm.enabledFilters == 2 || vm.enabledFilters == 4), \'col-md-4\': vm.enabledFilters == 3}" ng-if="vm.showProgramFilter">\n                    <select class="form-control" ng-model="vm.filterProgram" ng-options="program as program.name for program in vm.programs track by program.id">\n                    </select>\n                </div>\n                <div class="col-xs-12" ng-class="{ \'col-md-12\': vm.enabledFilters == 1, \'col-md-6\': (vm.enabledFilters == 2 || vm.enabledFilters == 4), \'col-md-4\': vm.enabledFilters == 3}" ng-if="vm.showLevelFilter">\n                    <select class="form-control" ng-model="vm.filterLevel" ng-options="level as level.name for level in vm.levels track by level.id">\n                    </select>\n                </div>\n                <div class="col-xs-12" ng-class="{ \'col-md-12\': vm.enabledFilters == 1, \'col-md-6\': (vm.enabledFilters == 2 || vm.enabledFilters == 4), \'col-md-4\': vm.enabledFilters == 3}" ng-if="vm.showInstructorFilter">\n                    <select class="form-control" ng-model="vm.filterInstructor" ng-options="instructor as instructor.name for instructor in vm.instructors track by instructor.id">\n                    </select>\n                </div>\n                <div class="col-xs-12" ng-class="{ \'col-md-12\': vm.enabledFilters == 1, \'col-md-6\': (vm.enabledFilters == 2 || vm.enabledFilters == 4), \'col-md-4\': vm.enabledFilters == 3}" ng-if="vm.showAgeFilter">\n                    <select class="form-control" ng-model="vm.filterAge" ng-options="age as age.name for age in vm.ages track by age.id">\n                    </select>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-xs-12">\n                    <h2>Showing available makeup classes on <em>{{vm.date | date: vm.config.angularDateFormat}}</em> for <em>{{vm.getTokenDescription()}}</em></h2>\n                </div>\n            </div>\n            <div class="row text-center" ng-if="vm.classMessage">\n                <div class="col-xs-12">\n                    <div class="alert alert-warning">{{vm.classMessage}}</div>\n                </div>\n            </div>\n            <div class="row text-center" ng-show="!vm.classesLoaded">\n                <span class="loading-icon" aria-hidden="true"></span>\n                <span class="sr-only">Loading...</span>\n            </div>\n            <div class="row text-center" ng-show="!vm.classMessage && vm.classesLoaded && filteredClasses.length == 0">\n                <div class="alert alert-warning">No classes found</div>\n            </div>\n        </div>\n    </div>\n    <div class="listing_container cf class" ng-repeat="class in (filteredClasses = (vm.classes | filter:{name: vm.searchString} | filterMakeupClasses : vm.filterProgram : vm.filterLevel : vm.filterInstructor : vm.filterAge))" ng-if="vm.classes.length && vm.classesLoaded">\n        <div class="class_openings">\n            <div class="status">Openings</div>\n            <div class="availability">{{class.openEnrollments}}</div>\n        </div>\n        <div class="class_details">\n            <table class="class_schedule">\n                <thead>\n                    <tr>\n                        <td colspan="3" class="class_name">\n                            {{class.name}}\n                        </td>\n                    </tr>\n                    <tr>\n                        <th>Days</th>\n                        <th>Start Time</th>\n                        <th>End Time</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>{{class.day}}</td>\n                        <td>{{class.startTime}}</td>\n                        <td>{{class.endTime}}</td>\n                    </tr>\n                </tbody>\n                <tfoot>\n                    <tr>\n                        <td><a href="{{vm.getClassDetailLink(class.id)}}" class="details-link">More Details</a></td>\n                        <td class="class_tuition"></td>\n                        <td></td>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n        <div class="class_action">\n            <div class="days">\n            </div>\n            <a class="btn btn-primary" ng-show="class.allowWebRegistration" href="" ng-disabled="vm.settings.restrictToActiveStudents && !vm.student.active"  ng-click="vm.confirmToken(class)">{{vm.settings.autoApprove ? \'USE TOKEN\' : \'REQUEST\'}}</a>\n            <a class="btn btn-primary" ng-show="!class.allowWebRegistration" ng-href="mailto:{{vm.currentLocationEmail}}">CONTACT US</a>\n        </div>\n    </div>\n</ng-container>\n<ng-container ng-if="vm.mode == \'confirm\'"><div class="section-any"><div class="container-fluid"><div class="row" ng-if="vm.confirmMessage"><div class="col-xs-12"><div class="alert alert-danger">{{vm.confirmMessage}}</div></div></div><div class="row"><div class="col-xs-12"><div class="breadcrumb-wrap"><div class="row"><div class="col-xs-12 col-sm-7"><ul class="breadcrumb"><li> <a href="" ng-click="vm.mode = false">Makeups</a></li><li class="active"><h1 class="title">Confirm</h1></li></ul></div><div class="col-xs-12 col-sm-4 col-sm-offset-1 padding-vertical-small-xs-only"> <button type="button" class="btn btn-default" ng-click="vm.mode = false">Back to Makeups</button></div></div></div></div></div><div class="choose_student_box"><div class="row"><div class="col-xs-12"><h2>{{vm.applyClass.name}} <span><span>&nbsp;</span></span> <span>{{(vm.date | date: \'EEEE\') + \' \' + vm.applyClass.startTime + \' - \' + vm.applyClass.endTime}}</span></h2></div></div><div class="row"><div class="col-xs-12"><h3> <span class="block1"><b>Student Name:</b> {{vm.student.name}}</span> <span class="block2"><b>Makeup Date:</b> {{vm.date | date: vm.config.angularDateFormat}}</span></h3></div></div></div><div class="row"><div class="col-xs-6"> <button class="btn btn-default" ng-click="vm.mode = \'apply\'">Cancel</button></div><div class="col-xs-6"> <button class="btn btn-primary" ng-click="vm.useToken()">Confirm</button></div></div></div></div></ng-container>'),e.put("/parentportal/content/ng-app/student/student-passes.html",'<div class="section-passes"><div class="container-fluid has-max-width"><div class="row" ng-if="!vm.dataLoaded"><div class="col-xs-12"><div class="has-min-height-medium"><div class="center-wrap"><span class="loading-icon" aria-hidden="true"></span> <span class="sr-only">Loading...</span></div></div></div></div><div class="row" ng-if="!vm.hasPermission && vm.dataLoaded"><div class="col-xs-12"><div class="has-min-height-medium"><div class="alert alert-danger">You do not have permission to access this family.</div></div></div></div><ng-container ng-if="vm.dataLoaded && vm.hasPermission"><div class="row"><div class="col-xs-12"><ng-container ng-repeat="student in vm.students" ng-if="student.passes.length"><div class="row"><div class="col-xs-4 col-sm-3 col-lg-2 v-align"><div class="img-circle-large"> <img ng-if="student.imageUrl" ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{student.imageUrl}}?size=attendance-small" class="img-center-crop" alt="Image of student"><span ng-if="!student.imageUrl" class="img-placeholder"></span></div></div><div class="col-xs-8 col-sm-9 col-lg-10 v-align"><h1 class="text-weight-normal">{{student.name}}\'s Passes</h1></div></div><div class="row"><div class="col-xs-12"><ul class="list-group passes-wrap"><li ng-repeat="pass in student.passes" class="list-group-item"><div class="row"><div class="col-xs-12"><div class="row"><div class="col-xs-3 col-sm-2 v-align"><div class="img-square-medium"> <img ng-if="pass.image" ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{pass.image}}?size=attendance-small" class="img-center-crop" alt="Image of {{pass.title}}"><span ng-if="!pass.image" class="img-placeholder"></span></div></div><div class="col-xs-9 col-sm-10 v-align"><h2 class="h3 text-weight-bold">{{pass.title}} Pass</h2> <span class="display-block"><strong>{{pass.punches.length}}</strong> <em>of</em> {{pass.unlimitedUses ? \'Unlimited\' : pass.uses}} visits used</span> <span class="label label-danger" ng-show="pass.revoked">Suspended</span> <span class="label bg-disabled" ng-show="pass.expired">Expired</span> <span class="label label-warning" ng-show="pass.future && !pass.revoked">Future</span></div></div><div class="row" ng-show="pass.punches.length || pass.remainingUses.length"><div class="col-xs-12"><div class="margin-top-medium"><span ng-repeat="punch in pass.punches track by $index" class="tooltip-primary icon-passes filled" rel="tooltip" data-placement="top" data-html="true" data-original-title="{{vm.getPunchDetails(punch)}}"></span><span ng-repeat="remainingUse in pass.remainingUses" class="icon-passes"></span></div></div></div></div><div class="col-xs-12"><div class="row row-spacing-small"><div class="col-xs-12 col-sm-6"><div class="row"><div class="col-xs-6"><div class="pass-details"> <span>Purchased</span> <span><strong>{{pass.createdAt}}</strong></span></div></div><div class="col-xs-6"><div class="pass-details"> <span>Active</span> <span><strong>{{pass.activeDate}}</strong></span></div></div></div></div><div class="col-xs-12 col-sm-6"><div class="row"><div class="col-xs-6 col-md-6"><div class="pass-details"> <span>Expires</span> <span><strong ng-class="{\'fg-danger\': pass.expired}">{{(pass.type == \'no_expiration\') ? \'Never\' : (pass.expirationDate | date: vm.config.angularDateFormat)}}</strong></span></div></div><div class="col-xs-6 col-md-6"><div class="pass-details"> <span>Paid</span> <span><strong>{{pass.price | currency:vm.currencySymbol}}</strong></span></div></div></div></div></div></div></div></li></ul></div></div></ng-container></div></div></ng-container></div></div>'),e.put("/parentportal/content/ng-app/student/student-policies.html",'<div class="section-student-policies"><div class="container-fluid has-max-width"><div class="row"><div class="col-xs-12"><ng-container ng-if="vm.mode == \'details\'"><div class="row"><div class="col-xs-12"><h2 class="h2 text-weight-normal fg-danger no-margin"> {{ vm.viewType() }} Student Policy Agreement</h2></div></div><div ng-if="vm.viewRecord" class="row"><div class="col-xs-12"><div id="feedback" class="alert" ng-if="vm.viewRecord.createdAt" ng-class="vm.viewRecord.accepted ? \'alert-info\' : \'alert-error\'"><p class="no-margin"> {{ vm.viewMessage() }}</p></div></div></div><div class="row"><div class="col-xs-3 col-sm-1 v-align"><div class="img-circle-medium"><span class="img-placeholder" ng-if="!(vm.viewStudent.imageUrl && vm.config.showStudentImages)"></span> <img ng-if="vm.viewStudent.imageUrl && vm.config.showStudentImages" ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{vm.viewStudent.imageUrl}}?size=attendance-small" class="img-center-crop" alt="Image of {{vm.viewStudent.firstName}} {{vm.viewStudent.lastName}}"></div></div><div class="col-xs-9 col-sm-11 v-align"> <span class="h3 text-weight-normal padding-left-small-sm-up">{{vm.viewStudent.firstName}} {{vm.viewStudent.lastName}}</span></div></div><div class="row"><div class="col-xs-12"><div class="margin-vertical-medium"> <strong>{{vm.viewPolicy.name}}</strong><div class="reset-scope has-max-height" ng-bind-html="vm.viewPolicy.content"></div></div></div></div><div class="row"><div class="col-xs-12"><div class="alert alert-error" ng-show="vm.viewPolicy.required"><p class="no-margin"> NOTE: This policy is required. If you do not accept it, you will not be able to enroll this student into any classes or camps.</p></div></div></div><div class="row"><div class="col-xs-12"><div class="alert alert-info"><p class="no-margin"> The parties agree that this agreement may be electronically signed. The parties agree that the electronic signatures appearing on this agreement are the same as handwritten signatures for the purposes of validity, enforceability, and admissibility.</p></div></div></div><div class="row"><div class="col-xs-12"><div class="alert alert-error" ng-show="vm.warningMessage.length"><p class="no-margin"> {{vm.warningMessage}}</p></div></div></div><div class="row"><div class="col-xs-12"><div class="row row-btn"><div class="col-xs-12 col-sm-3 col-md-2"> <a href="" ng-click="vm.accept()" class="btn btn-success">Accept</a></div><div class="col-xs-12 col-sm-3 col-md-2"> <a href="" ng-click="vm.reject()" class="btn btn-default">Reject</a></div><div class="col-xs-12 col-sm-3 col-md-2"> <a href="" ng-show="vm.viewPolicy.id == vm.viewRecord.policyId" ng-click="vm.mode = \'list\'" class="btn btn-default">Go Back</a></div><div class="col-xs-12 col-sm-3 col-md-6 text-right padding-top-small" ng-if="vm.remainingRequiredPolicies"> <span>Policy <strong>{{(vm.startingRequiredPolicies - vm.remainingRequiredPolicies) + 1}}</strong> <em>of</em> <strong>{{vm.startingRequiredPolicies}}</strong></span></div></div></div></div></ng-container><ng-container ng-if="vm.mode == \'list\'" ng-repeat="student in vm.students"><div class="row"><div class="col-xs-3 col-sm-1 v-align"><div class="img-circle-medium"><span class="img-placeholder" ng-if="!(student.imageUrl && vm.config.showStudentImages)"></span> <img ng-if="student.imageUrl && vm.config.showStudentImages" ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{student.imageUrl}}?size=attendance-small" class="img-center-crop" alt="Image of {{student.firstName}} {{student.lastName}}"></div></div><div class="col-xs-9 col-sm-11 v-align"> <span class="h3 padding-left-small-sm-up text-weight-normal">{{student.firstName}} {{student.lastName}}</span></div></div><div class="row"><div class="col-xs-12"><div class="margin-bottom-medium"><table class="table table-stacked-xs-only table-no-highlight"><colgroup><col width="20%"><col width="10%"><col class=\'print-only\' width="5%"><col width="15%"><col width="20%"><col width="15%"><col width="15%"></colgroup><thead><tr><th>Policy Name</th><th>Status</th><th class=\'print-only\'>Version</th><th>Name</th><th>Email</th><th>Date</th><th>Details</th></tr></thead><tbody><tr ng-repeat-start="policy in student.policies"><td> <span class="td-title v-align">Policy Name: &nbsp;</span> <span class="td-content v-align">{{policy.name}}</span></td><td> <span class="td-title v-align">Status: &nbsp;</span> <span class="td-content v-align">{{policy.records[0].accepted ? \'Accepted\' : \'Rejected\'}}</span></td><td class=\'print-only\'> <span class="td-title v-align">Version: &nbsp;</span> <span class="td-content v-align">{{policy.id}}</span></td><td> <span class="td-title v-align">Name: &nbsp;</span> <span class="td-content v-align">{{policy.records[0].name}}</span></td><td> <span class="td-title v-align">Email: &nbsp;</span> <span class="td-content v-align">{{policy.records[0].email}}</span></td><td> <span class="td-title v-align">Date: &nbsp;</span> <span class="td-content v-align">{{policy.records[0].createdAt}}</span></td><td class="no-padding-left-sm-down hide-for-print"> <button type="button" ng-click="vm.view(student.id, policy.id)" class="btn btn-default ui-small"> <span>View</span></button></td></tr><tr ng-repeat-end class="print-only"><td colspan="5"><div ng-bind-html="policy.content"></div></td></tr></tbody></table></div></div></div></ng-container><ng-container ng-if="vm.mode == \'list\'"><div class="margin-top-medium"><div class="row"><div class="col-xs-12 col-sm-4 col-sm-push-8"> <button type="button" class="btn btn-default prevent-doubleclick hide-for-print" id="continue_method_button" value="Print" onClick="window.print();return false;"><span class="icon-print" aria-hidden="true"></span> &nbsp; Print</button></div></div></div></ng-container></div></div></div></div>'),e.put("/parentportal/content/ng-app/student/student-skill-tree.html",'<div class="section-skills"><div class="container-fluid has-max-width"><div class="row" ng-show="!vm.studentDataLoaded"><div class="col-xs-12"><div class="has-min-height-medium"><div class="center-wrap"><span class="loading-icon" aria-hidden="true"></span> <span class="sr-only">Loading...</span></div></div></div></div><div class="row" ng-show="vm.studentDataLoaded && !vm.hasPermission"><div class="col-xs-12"><div class="has-min-height-medium"><div class="alert alert-danger">You do not have permission to access this student.</div></div></div></div><div class="row" ng-show="vm.studentDataLoaded && vm.hasPermission"><div class="col-xs-12"><div class="breadcrumb-wrap"><div class="row"><div class="col-xs-12 col-sm-7"><ul class="breadcrumb"><li> <a href="{{vm.config.baseUrl}}/evaluations/">Evaluations</a></li><li class="active"><h1 class="title">Skill Tree</h1></li></ul></div><div class="col-xs-12 col-sm-4 col-sm-offset-1 padding-vertical-small-xs-only"> <button type="button" class="btn btn-default" ng-click="vm.evaluationIndex()">Back to Evaluations</button></div></div></div><div class="row"><div class="col-xs-12"><div class="list-wrap-evaluations list-no-trim"><div class="list-body"><div class="list-row"><div class="list-row-inner-wrap skill-tree"><div data-heading="student" class="student padding-bottom-medium"><div class="avatar"><div class="img-avatar"> <img ng-if="vm.student.imageUrl && vm.config.showStudentImages" ng-src="{{vm.student.imageUrl}}" alt="Thumbnail of {{vm.student.firstName + \' \' + vm.student.lastName}}"></div></div><div class="wrap padding-vertical-small-xs-only"> <span class="student-name">{{ vm.student.firstName + \' \' + vm.student.lastName }}\'s Skills</span></div></div></div></div></div></div><div class="row"><div class="col-xs-12"><div ng-show="!vm.disciplines.length">No evaluations found.</div><ng-include ng-show="vm.disciplines.length" src="\'/parentportal/content/ng-app/student/templates/student-skill-tree-disciplines.html\'" include-replace></ng-include><h2>Legend</h2><div class="row" ng-repeat="label in vm.labels track by $index"><div class="col-xs-12"><div class="col-xs-6 v-align"><span class="rating-display star-small"><span class="rating-number" ng-repeat="star in vm.getLabelStars($index)"><span class="star active"></span></span><span ng-if="$index == 0 && vm.maxRating == 1" class="rating-number"><span class="star"></span></span></span></div><div class="col-xs-6 no-padding v-align"> <span class="title">{{vm.labels[$index]}}</span></div></div></div><div class="padding-vertical-small" ng-if="vm.config.showOnlyEvaluatedSkills && vm.studentDataLoaded"> <em><strong>Note:</strong> Only evaluated skills are shown above</em></div></div></div></div></div></div></div></div></div><div class="section-skills"><div class="modal modal-image fade" id="skills-gallery" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="container-fluid"><div class="col-xs-12"><div class="row"> <img ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{vm.media.url}}?size=customer-skill-large" alt="Thumbnail of {{vm.media.name}}"></div></div></div></div></div></div></div>'),e.put("/parentportal/content/ng-app/student/templates/student-skill-tree-disciplines.html",'<div class="skill-tree-wrap"><div ng-repeat="discipline in vm.disciplines"><div class="discipline-details"><div class="row"><div class="col-xs-6"><div class="title text-weight-heavy" ng-click="discipline.isActive = discipline.isActive ? false : true" data-target="#collapse-{{discipline.id}}"> {{discipline.name}}</div></div><div class="col-xs-6"><div class="rating-details"> <span class="rating-display star-large"><span class="rating-number">{{discipline.totalStars + \'/\' + discipline.maxStars}}</span><span class="star active"></span></span></div></div></div></div><div class="collapsible-wrap" ng-class="{\'skills\': !discipline.hasLevels && !discipline.levels[0].hasEvents}"><ng-include ng-if="discipline.hasLevels" src="\'/parentportal/content/ng-app/student/templates/student-skill-tree-levels.html\'" include-replace></ng-include><ng-include ng-if="!discipline.hasLevels && discipline.levels[0].hasEvents" ng-repeat="level in discipline.levels" src="\'/parentportal/content/ng-app/student/templates/student-skill-tree-events.html\'" include-replace></ng-include><ng-include ng-if="!discipline.hasLevels && !discipline.levels[0].hasEvents" ng-repeat="event in discipline.levels[0].events" src="\'/parentportal/content/ng-app/student/templates/student-skill-tree-skills.html\'" include-replace></ng-include></div></div></div>'),e.put("/parentportal/content/ng-app/student/templates/student-skill-tree-events.html",'<div class="collapsible" ng-repeat="event in level.events" ng-class="{ \'corner-ribbon-visible\': (level.hasEvents && event.completed) || (!level.hasEvents && level.completed) }"><div class="title-rating-wrap collapsible-more-padding collapsible-minimal-nested glyphs glyphs-right-down pull-glyph-left" role="button" data-target="#collapse-{{discipline.id}}-{{level.id}}-{{event.id}}" data-toggle="collapse" aria-expanded="{{event.isActive}}" ng-click="vm.pauseVideos(discipline.id, level.id, event.id, false);"><div class="title v-align"> {{ event.name }}</div><div data-heading="details" class="rating-details v-align"> <span class="rating-display star-large"><span class="rating-number">{{event.totalStars + \'/\' + event.maxStars}}</span><span class="star active"></span></span></div><div ng-if="(level.hasEvents && event.completed) || (!level.hasEvents && level.completed)" class="ribbon ribbon-top-right"><span>Passed</span></div></div><div class="collapsible-body"><div class="collapse" id="collapse-{{discipline.id}}-{{level.id}}-{{event.id}}" ng-class="{ \'in\' : (!level.hasEvents && !discipline.hasLevels) || (!level.hasEvents && discipline.hasLevels) || event.isActive }" aria-expanded="{{(!level.hasEvents && !discipline.hasLevels) || (!level.hasEvents && discipline.hasLevels) || event.isActive }}"><div class="collapsible-inner-wrap"><div class="collapsible-wrap skills"><ng-include src="\'/parentportal/content/ng-app/student/templates/student-skill-tree-skills.html\'" include-replace></ng-include></div></div></div></div></div>'),e.put("/parentportal/content/ng-app/student/templates/student-skill-tree-levels.html",'<div class="collapsible" ng-repeat="level in discipline.levels" ng-class="{ \'corner-ribbon-visible\' : level.completed }"><div class="title-rating-wrap collapsible-more-padding collapsible-minimal-nested glyphs glyphs-right-down pull-glyph-left" role="button" data-target="#collapse-{{discipline.id}}-{{level.id}}" data-toggle="collapse" aria-expanded="{{level.isActive}}" ng-click="vm.pauseVideos(discipline.id, level.id, false, false);"><div class="title v-align"> {{level.name}}</div><div data-heading="details" class="rating-details v-align"> <span class="rating-display star-large"><span class="rating-number">{{level.totalStars + \'/\' + level.maxStars}}</span><span class="star active"></span></span></div><div ng-if="level.completed" class="ribbon ribbon-top-right"><span>Passed</span></div></div><div class="collapsible-body"><div id="collapse-{{discipline.id}}-{{level.id}}" class="collapse" ng-class="{ \'in\' : (!level.hasEvents && !discipline.hasLevels) || (level.hasEvents && !discipline.hasLevels) || level.isActive }" aria-expanded="{{(!level.hasEvents && !discipline.hasLevels) || (level.hasEvents && !discipline.hasLevels) || level.isActive}}"><div class="collapsible-inner-wrap"><div class="collapsible-wrap" ng-class="{\'skills\': !level.hasEvents}"><ng-include ng-if="level.hasEvents" src="\'/parentportal/content/ng-app/student/templates/student-skill-tree-events.html\'" include-replace></ng-include><ng-include ng-if="!level.hasEvents" ng-repeat="event in level.events" src="\'/parentportal/content/ng-app/student/templates/student-skill-tree-skills.html\'" include-replace></ng-include></div></div></div></div></div>'),e.put("/parentportal/content/ng-app/student/templates/student-skill-tree-skills.html",'<div class="collapsible" ng-class="{\'collapsible-yellow-border\': skill.selected}" ng-repeat="skill in event.skills"><div class="title-rating-wrap collapsible-more-padding glyphs glyphs-right-down pull-glyph-left" role="button" data-target="#collapse-{{discipline.id}}-{{level.id}}-{{event.id}}-{{skill.id}}" data-toggle="collapse" aria-expanded="{{skill.selected}}" ng-click="vm.pauseVideos(discipline.id, level.id, event.id, skill.id);"><div class="title v-align"> {{ skill.name }}</div><div data-heading="details" class="rating-details v-align"><span class="rating-display star-large"><span ng-repeat="star in vm.stars" class="star" ng-class="{\'active\': skill.rating >= star.value, \'unevaluated\': !skill.createdAt}"></span></span></div></div><div class="collapsible-body"><div class="collapse" id="collapse-{{discipline.id}}-{{level.id}}-{{event.id}}-{{skill.id}}" aria-expanded="{{skill.selected}}" ng-class="{ \'in\' : skill.selected }"><div class="collapsible-inner-wrap"><ul class="comments"><li ng-repeat="evaluation in skill.evaluations"><span class="publication"><span class="rating-display star-small"><span ng-repeat="star in vm.stars" class="star" ng-class="{\'active\': evaluation.rating >= star.value}"></span></span> <span class="modified">on <time datetime="{{evaluation.createdAt}}">{{evaluation.createdAt}}</time> <span ng-if="evaluation.staffName">by {{evaluation.staffName}}</span></span></span> <span class="note" ng-if="vm.enableComments">{{ evaluation.comment }}</span></li></ul><div class="row"><div class="col-xs-12"><div class="collapse skill-details padding-left-medium-sm-up" id="skill-details-{{discipline.id}}-{{level.id}}-{{event.id}}-{{skill.id}}"><h5>Skill Description</h5><p>{{skill.description}}</p><div ng-if="skill.media.photos.length || skill.media.videos.length"><h5>Skill Media</h5><div class="row"><div class="col-xs-12 col-md-8 col-lg-4" ng-repeat="media in skill.media.photos"><div class="margin-bottom-medium"> <a href="" class="wrap" title="Image of {{media.name}}" data-toggle="modal" ng-click="vm.media = media" data-target="#skills-gallery" data-aspect-ratio="4:3"><img ng-src="/parentportal/{{vm.config.accountName}}/api/v1/img/{{media.url}}?size=customer-skill-small" alt="Thumbnail of {{media.name}}"></a></div></div><div class="col-xs-12 col-md-8 col-lg-4" ng-repeat="media in skill.media.videos"><div class="margin-bottom-medium"><div data-aspect-ratio="4:3"><iframe class="{{media.type}}-{{discipline.id}}-{{level.id}}-{{event.id}}-{{skill.id}}" ng-src="{{vm.getVideoUrl(media)}}" frameborder="0" allowfullscreen allowscriptaccess="always"></iframe></div></div></div></div></div></div></div></div><div class="row"><div class="col-xs-12 col-md-5"><div class="wrap padding-left-medium-sm-up"> <button type="button" class="btn btn-default collapsed" data-toggle="collapse" data-target="#skill-details-{{discipline.id}}-{{level.id}}-{{event.id}}-{{skill.id}}" aria-expanded="false" aria-controls="skill-details-{{discipline.id}}-{{level.id}}-{{event.id}}-{{skill.id}}" ng-click="vm.pauseVideos(discipline.id, level.id, event.id, skill.id);vm.getSkillMedia(skill.id);"></button></div></div></div></div></div></div></div>')}]);